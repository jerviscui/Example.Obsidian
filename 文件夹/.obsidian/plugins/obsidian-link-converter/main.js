/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugins github repository
*/

'use strict';

var obsidian = require('obsidian');

/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

typeof SuppressedError === "function" ? SuppressedError : function (error, suppressed, message) {
    var e = new Error(message);
    return e.name = "SuppressedError", e.error = error, e.suppressed = suppressed, e;
};

const DEFAULT_SETTINGS = {
    mySetting: 'default',
    contextMenu: true,
    finalLinkFormat: 'not-change',
    keepMtime: false,
};
class LinkConverterSettingsTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.plugin = plugin;
    }
    display() {
        let { containerEl } = this;
        containerEl.empty();
        containerEl.createEl('h2', { text: 'Obsidian Link Converter' });
        new obsidian.Setting(containerEl)
            .setName('File Context Menu')
            .setDesc("Turn this option off if you don't want single file commands to appear within the file context menu")
            .addToggle((toggle) => {
                toggle.setValue(this.plugin.settings.contextMenu).onChange((newVal) => {
                    this.plugin.settings.contextMenu = newVal;
                    this.plugin.saveSettings();
                    if (newVal) {
                        this.plugin.app.workspace.on('file-menu', this.plugin.addFileMenuItems);
                    }
                    else {
                        this.plugin.app.workspace.off('file-menu', this.plugin.addFileMenuItems);
                    }
                });
            });
        new obsidian.Setting(containerEl)
            .setName('Converted Link Format')
            .setDesc('Select the preferred option for the final link format after the conversion. Plugin will use the preferrence where possible')
            .addDropdown((dropdown) => {
                dropdown
                    .addOption('not-change', 'Do not change')
                    .addOption('relative-path', 'Relative Path')
                    .addOption('absolute-path', 'Absolute Path')
                    .addOption('shortest-path', 'Shortest Path')
                    .setValue(this.plugin.settings.finalLinkFormat)
                    .onChange((option) => {
                        this.plugin.settings.finalLinkFormat = option;
                        this.plugin.saveSettings();
                    });
            });
        new obsidian.Setting(containerEl)
            .setName('Keep mTime (Last Modified Time)')
            .setDesc('Turn on this option if you want plugin to keep the mtime of files same during the link conversion')
            .addToggle((toggle) => toggle.setValue(this.plugin.settings.keepMtime).onChange((value) => {
                this.plugin.settings.keepMtime = value;
                this.plugin.saveSettings();
            }));
        const coffeeDiv = containerEl.createDiv('coffee');
        coffeeDiv.addClass('oz-coffee-div');
        const coffeeLink = coffeeDiv.createEl('a', { href: 'https://ko-fi.com/L3L356V6Q' });
        const coffeeImg = coffeeLink.createEl('img', {
            attr: {
                src: 'https://cdn.ko-fi.com/cdn/kofi2.png?v=3',
            },
        });
        coffeeImg.height = 45;
    }
}

// Helper Function To Get List of Files
const getFilesUnderPath = (path, plugin) => {
    var filesUnderPath = [];
    recursiveFx(path, plugin.app);
    function recursiveFx(path, app) {
        var folderObj = app.vault.getAbstractFileByPath(path);
        if (folderObj instanceof obsidian.TFolder && folderObj.children) {
            for (let child of folderObj.children) {
                if (child instanceof obsidian.TFile && child.extension === 'md')
                    filesUnderPath.push(child);
                if (child instanceof obsidian.TFolder)
                    recursiveFx(child.path, app);
            }
        }
    }
    return filesUnderPath;
};

const getAllLinkMatchesInFile = (mdFile, plugin) => __awaiter(void 0, void 0, void 0, function* () {
    const linkMatches = [];
    let fileText = yield plugin.app.vault.read(mdFile);
    // --> Get All WikiLinks
    let wikiRegex = /\[\[.*?\]\]/g;
    let wikiMatches = fileText.match(wikiRegex);
    if (wikiMatches) {
        let fileRegex = /(?<=\[\[).*?(?=(\]|\|))/;
        let altRegex = /(?<=\|).*(?=]])/;
        for (let wikiMatch of wikiMatches) {
            // --> Check if it is Transclusion
            if (matchIsWikiTransclusion(wikiMatch)) {
                let fileName = getTransclusionFileName(wikiMatch);
                let blockRefMatch = getTransclusionBlockRef(wikiMatch);
                if (fileName !== '' && blockRefMatch !== '') {
                    let linkMatch = {
                        type: 'wikiTransclusion',
                        match: wikiMatch,
                        linkText: fileName,
                        altOrBlockRef: blockRefMatch,
                        sourceFilePath: mdFile.path,
                    };
                    linkMatches.push(linkMatch);
                    continue;
                }
            }
            // --> Normal Internal Link
            let fileMatch = wikiMatch.match(fileRegex);
            if (fileMatch) {
                // Web links are to be skipped
                if (fileMatch[0].startsWith('http'))
                    continue;
                let altMatch = wikiMatch.match(altRegex);
                let linkMatch = {
                    type: 'wiki',
                    match: wikiMatch,
                    linkText: fileMatch[0],
                    altOrBlockRef: altMatch ? altMatch[0] : '',
                    sourceFilePath: mdFile.path,
                };
                linkMatches.push(linkMatch);
            }
        }
    }
    // --> Get All Markdown Links
    let markdownRegex = /\[(^$|.*?)\]\((.*?)\)/g;
    let markdownMatches = fileText.match(markdownRegex);
    if (markdownMatches) {
        let fileRegex = /(?<=\().*(?=\))/;
        let altRegex = /(?<=\[)(^$|.*?)(?=\])/;
        for (let markdownMatch of markdownMatches) {
            // --> Check if it is Transclusion
            if (matchIsMdTransclusion(markdownMatch)) {
                let fileName = getTransclusionFileName(markdownMatch);
                let blockRefMatch = getTransclusionBlockRef(markdownMatch);
                if (fileName !== '' && blockRefMatch !== '') {
                    let linkMatch = {
                        type: 'mdTransclusion',
                        match: markdownMatch,
                        linkText: fileName,
                        altOrBlockRef: blockRefMatch,
                        sourceFilePath: mdFile.path,
                    };
                    linkMatches.push(linkMatch);
                    continue;
                }
            }
            // --> Normal Internal Link
            let fileMatch = markdownMatch.match(fileRegex);
            if (fileMatch) {
                // Web links are to be skipped
                if (fileMatch[0].startsWith('http'))
                    continue;
                let altMatch = markdownMatch.match(altRegex);
                let linkMatch = {
                    type: 'markdown',
                    match: markdownMatch,
                    linkText: fileMatch[0],
                    altOrBlockRef: altMatch ? altMatch[0] : '',
                    sourceFilePath: mdFile.path,
                };
                linkMatches.push(linkMatch);
            }
        }
    }
    return linkMatches;
});
/* -------------------- CONVERTERS -------------------- */
// --> Converts single file to provided final format and save back in the file
const convertLinksAndSaveInSingleFile = (mdFile, plugin, finalFormat) => __awaiter(void 0, void 0, void 0, function* () {
    let fileText = yield plugin.app.vault.read(mdFile);
    let newFileText = finalFormat === 'markdown' ? yield convertWikiLinksToMarkdown(fileText, mdFile, plugin) : yield convertMarkdownLinksToWikiLinks(fileText, mdFile, plugin);
    let fileStat = plugin.settings.keepMtime ? yield plugin.app.vault.adapter.stat(obsidian.normalizePath(mdFile.path)) : {};
    yield plugin.app.vault.modify(mdFile, newFileText, fileStat);
});
// --> Command Function: Converts All Links and Saves in Current Active File
const convertLinksInActiveFile = (plugin, finalFormat) => __awaiter(void 0, void 0, void 0, function* () {
    let mdFile = plugin.app.workspace.getActiveFile();
    if (mdFile.extension === 'md') {
        yield convertLinksAndSaveInSingleFile(mdFile, plugin, finalFormat);
    }
    else {
        new obsidian.Notice('Active File is not a Markdown File');
    }
});
// --> Convert Links under Files under a Certain Folder
const convertLinksUnderFolder = (folder, plugin, finalFormat) => __awaiter(void 0, void 0, void 0, function* () {
    let mdFiles = getFilesUnderPath(folder.path, plugin);
    let notice = new obsidian.Notice('Starting link conversion', 0);
    try {
        let totalCount = mdFiles.length;
        let counter = 0;
        for (let mdFile of mdFiles) {
            counter++;
            notice.setMessage(`Converting the links in notes ${counter}/${totalCount}.`);
            // --> Skip Excalidraw and Kanban Files
            if (hasFrontmatter(plugin.app, mdFile.path, 'excalidraw-plugin') || hasFrontmatter(plugin.app, mdFile.path, 'kanban-plugin')) {
                continue;
            }
            yield convertLinksAndSaveInSingleFile(mdFile, plugin, finalFormat);
        }
    }
    catch (err) {
        console.log(err);
    }
    finally {
        notice.hide();
    }
});
// --> Convert Links within editor Selection
const convertLinksWithinSelection = (finalFormat, plugin) => __awaiter(void 0, void 0, void 0, function* () {
    let activeLeaf = plugin.app.workspace.getActiveViewOfType(obsidian.MarkdownView);
    if (activeLeaf) {
        let editor = activeLeaf.editor;
        let selection = editor.getSelection();
        let sourceFile = activeLeaf.file;
        if (selection !== '') {
            let newText;
            if (finalFormat === 'markdown') {
                newText = yield convertWikiLinksToMarkdown(selection, sourceFile, plugin);
            }
            else if (finalFormat === 'wiki') {
                newText = yield convertMarkdownLinksToWikiLinks(selection, sourceFile, plugin);
            }
            editor.replaceSelection(newText);
        }
        else {
            new obsidian.Notice("You didn't select any text.");
        }
    }
    else {
        new obsidian.Notice('There is no active leaf open.', 3000);
    }
});
// --> Command Function: Converts All Links in All Files in Vault and Save in Corresponding Files
const convertLinksInVault = (plugin, finalFormat) => __awaiter(void 0, void 0, void 0, function* () {
    convertLinksUnderFolder(plugin.app.vault.getRoot(), plugin, finalFormat);
});
const hasFrontmatter = (app, filePath, keyToCheck) => {
    let metaCache = app.metadataCache.getCache(filePath);
    return metaCache.frontmatter && metaCache.frontmatter[keyToCheck];
};
/* -------------------- LINKS TO MARKDOWN CONVERTER -------------------- */
// --> Converts links within given string from Wiki to MD
const convertWikiLinksToMarkdown = (md, sourceFile, plugin) => __awaiter(void 0, void 0, void 0, function* () {
    let newMdText = md;
    let linkMatches = yield getAllLinkMatchesInFile(sourceFile, plugin);
    // --> Convert Wiki Internal Links to Markdown Link
    let wikiMatches = linkMatches.filter((match) => match.type === 'wiki');
    for (let wikiMatch of wikiMatches) {
        let mdLink = createLink('markdown', wikiMatch.linkText, wikiMatch.altOrBlockRef, sourceFile, plugin);
        newMdText = newMdText.replace(wikiMatch.match, mdLink);
    }
    // --> Convert Wiki Transclusion Links to Markdown Transclusion
    let wikiTransclusions = linkMatches.filter((match) => match.type === 'wikiTransclusion');
    for (let wikiTransclusion of wikiTransclusions) {
        let wikiTransclusionLink = createLink('mdTransclusion', wikiTransclusion.linkText, wikiTransclusion.altOrBlockRef, sourceFile, plugin);
        newMdText = newMdText.replace(wikiTransclusion.match, wikiTransclusionLink);
    }
    return newMdText;
});
/* -------------------- LINKS TO WIKI CONVERTER -------------------- */
// --> Converts links within given string from MD to Wiki
const convertMarkdownLinksToWikiLinks = (md, sourceFile, plugin) => __awaiter(void 0, void 0, void 0, function* () {
    let newMdText = md;
    let linkMatches = yield getAllLinkMatchesInFile(sourceFile, plugin);
    // --> Convert Markdown Internal Links to WikiLink
    let markdownMatches = linkMatches.filter((match) => match.type === 'markdown');
    for (let markdownMatch of markdownMatches) {
        let wikiLink = createLink('wiki', markdownMatch.linkText, markdownMatch.altOrBlockRef, sourceFile, plugin);
        newMdText = newMdText.replace(markdownMatch.match, wikiLink);
    }
    // --> Convert Markdown Transclusion Links to WikiLink Transclusion
    let mdTransclusions = linkMatches.filter((match) => match.type === 'mdTransclusion');
    for (let mdTransclusion of mdTransclusions) {
        let wikiTransclusionLink = createLink('wikiTransclusion', mdTransclusion.linkText, mdTransclusion.altOrBlockRef, sourceFile, plugin);
        newMdText = newMdText.replace(mdTransclusion.match, wikiTransclusionLink);
    }
    return newMdText;
});
/* -------------------- LINKS TO RELATIVE/ABSOLUTE/SHORTEST -------------------- */
//todo: cuizj --> Command Function: Active File: Links Format
const convertLinksFormatInActiveFile = (plugin, finalFormat) => __awaiter(void 0, void 0, void 0, function* () {
    let mdFile = plugin.app.workspace.getActiveFile();
    if (mdFile.extension === 'md') {
        yield convertLinksInFileToPreferredFormat(mdFile, plugin, finalFormat);
    }
    else {
        new obsidian.Notice('Active File is not a Markdown File');
    }
});
const convertLinksInFileToPreferredFormat = (mdFile, plugin, finalFormat) => __awaiter(void 0, void 0, void 0, function* () {
    let fileText = yield plugin.app.vault.read(mdFile);
    let linkMatches = yield getAllLinkMatchesInFile(mdFile, plugin);
    for (let linkMatch of linkMatches) {
        let fileLink = decodeURI(linkMatch.linkText);
        let file = plugin.app.metadataCache.getFirstLinkpathDest(fileLink, linkMatch.sourceFilePath);
        if (file) {
            fileLink = getFileLinkInFormat(file, mdFile, plugin, finalFormat);
            fileText = fileText.replace(linkMatch.match, createLink(linkMatch.type, fileLink, linkMatch.altOrBlockRef, mdFile, plugin));
        }
    }
    let fileStat = plugin.settings.keepMtime ? yield plugin.app.vault.adapter.stat(obsidian.normalizePath(mdFile.path)) : {};
    yield plugin.app.vault.modify(mdFile, fileText, fileStat);
});
const getFileLinkInFormat = (file, sourceFile, plugin, finalFormat) => {
    let fileLink;
    if (finalFormat === 'absolute-path') {
        fileLink = file.path;
    }
    else if (finalFormat === 'relative-path') {
        fileLink = getRelativeLink(sourceFile.path, file.path);
    }
    else if (finalFormat === 'shortest-path') {
        let allFilesInVault = plugin.app.vault.getFiles();
        let filesWithSameName = allFilesInVault.filter((f) => f.name === file.name);
        if (filesWithSameName.length > 1) {
            fileLink = file.path;
        }
        else {
            fileLink = file.name;
        }
    }
    if (fileLink.endsWith('.md'))
        fileLink = fileLink.replace('.md', '');
    return fileLink;
};
/* -------------------- HELPERS -------------------- */
const createLink = (dest, originalLink, altOrBlockRef, sourceFile, plugin) => {
    let finalLink = originalLink;
    let altText;
    let fileLink = decodeURI(finalLink);
    let file = plugin.app.metadataCache.getFirstLinkpathDest(fileLink, sourceFile.path);
    if (file && plugin.settings.finalLinkFormat !== 'not-change')
        finalLink = getFileLinkInFormat(file, sourceFile, plugin, plugin.settings.finalLinkFormat);
    // If final link is in markdown format and the file is md, the extension should be included
    const fileExtension = file && file.extension === 'md' ? `.${file.extension}` : '';
    if (dest === 'wiki') {
        // If alt text is same as the final link or same as file base name, it needs to be empty
        if (altOrBlockRef !== '' && altOrBlockRef !== decodeURI(finalLink)) {
            if (file && decodeURI(altOrBlockRef) === file.basename) {
                altText = '';
            }
            else {
                altText = '|' + altOrBlockRef;
            }
        }
        else {
            altText = '';
        }
        return `[[${decodeURI(finalLink)}${altText}]]`;
    }
    else if (dest === 'markdown') {
        // If there is no alt text specifiec and file exists, the alt text needs to be always the file base name
        if (altOrBlockRef !== '') {
            altText = altOrBlockRef;
        }
        else {
            altText = file ? file.basename : finalLink;
        }
        return `[${altText}](${customEncodeURI(finalLink)}${fileExtension})`;
    }
    else if (dest === 'wikiTransclusion') {
        return `[[${decodeURI(finalLink)}#${decodeURI(altOrBlockRef)}]]`;
    }
    else if (dest === 'mdTransclusion') {
        // --> To skip encoding ^
        let encodedBlockRef = altOrBlockRef;
        if (altOrBlockRef.startsWith('^')) {
            encodedBlockRef = customEncodeURI(encodedBlockRef.slice(1));
            encodedBlockRef = `^${encodedBlockRef}`;
        }
        else {
            encodedBlockRef = customEncodeURI(encodedBlockRef);
        }
        return `[](${customEncodeURI(finalLink)}${fileExtension}#${encodedBlockRef})`;
    }
    return '';
};
/**
 * Encode URI the same way Obsidian is doing it internally
 *
 * @param uri
 * @returns
 */
function customEncodeURI(uri) {
    return uri.replace(/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g, urlPart => encodeURIComponent(urlPart));
}
/**
 *
 * @param sourceFilePath Path of the file, in which the links are going to be used
 * @param linkedFilePath File path, which will be referred in the source file
 * @returns
 */
function getRelativeLink(sourceFilePath, linkedFilePath) {
    function trim(arr) {
        let start = 0;
        for (; start < arr.length; start++) {
            if (arr[start] !== '')
                break;
        }
        var end = arr.length - 1;
        for (; end >= 0; end--) {
            if (arr[end] !== '')
                break;
        }
        if (start > end)
            return [];
        return arr.slice(start, end - start + 1);
    }
    var fromParts = trim(sourceFilePath.split('/'));
    var toParts = trim(linkedFilePath.split('/'));
    var length = Math.min(fromParts.length, toParts.length);
    var samePartsLength = length;
    for (var i = 0; i < length; i++) {
        if (fromParts[i] !== toParts[i]) {
            samePartsLength = i;
            break;
        }
    }
    var outputParts = [];
    for (var i = samePartsLength; i < fromParts.length - 1; i++) {
        outputParts.push('..');
    }
    outputParts = outputParts.concat(toParts.slice(samePartsLength));
    return outputParts.join('/');
}
/* -------------------- TRANSCLUSIONS -------------------- */
//todo: cuizj
const wikiTransclusionRegex = /\[\[(.*?)#+.*?\]\]/;
const wikiTransclusionFileNameRegex = /(?<=\[\[)(.*?)(?=#)/;
const wikiTransclusionBlockRef = /(?<=#)[^#].*?(?=]])/;
const mdTransclusionRegex = /\[.*?]\((.*?)#+.*?\)/;
const mdTransclusionFileNameRegex = /(?<=\]\()(.*?)(?=#)/;
const mdTransclusionBlockRef = /(?<=#)[^#].*?(?=\))/;
// const wikiTransclusionRegex = /\[\[(.*?)#.*?\]\]/;
// const wikiTransclusionFileNameRegex = /(?<=\[\[)(.*)(?=#)/;
// const wikiTransclusionBlockRef = /(?<=#).*?(?=]])/;
// const mdTransclusionRegex = /\[.*?]\((.*?)#.*?\)/;
// const mdTransclusionFileNameRegex = /(?<=\]\()(.*)(?=#)/;
// const mdTransclusionBlockRef = /(?<=#).*?(?=\))/;
const matchIsWikiTransclusion = (match) => {
    return wikiTransclusionRegex.test(match);
};
const matchIsMdTransclusion = (match) => {
    return mdTransclusionRegex.test(match);
};
/**
 * @param match
 * @returns file name if there is a match or empty string if no match
 */
const getTransclusionFileName = (match) => {
    let isWiki = wikiTransclusionRegex.test(match);
    let isMd = mdTransclusionRegex.test(match);
    if (isWiki || isMd) {
        let fileNameMatch = match.match(isWiki ? wikiTransclusionFileNameRegex : mdTransclusionFileNameRegex);
        if (fileNameMatch)
            return fileNameMatch[0];
    }
    return '';
};
/**
 * @param match
 * @returns block ref if there is a match or empty string if no match
 */
const getTransclusionBlockRef = (match) => {
    let isWiki = wikiTransclusionRegex.test(match);
    let isMd = mdTransclusionRegex.test(match);
    if (isWiki || isMd) {
        let blockRefMatch = match.match(isWiki ? wikiTransclusionBlockRef : mdTransclusionBlockRef);
        if (blockRefMatch)
            return blockRefMatch[0];
    }
    return '';
};

class ConfirmationModal extends obsidian.Modal {
    constructor(app, message, callback) {
        super(app);
        this.message = message;
        this.callback = callback;
    }
    onOpen() {
        let { contentEl } = this;
        let mainDiv = contentEl.createEl('div');
        mainDiv.addClass('oz-modal-center');
        mainDiv.innerHTML = `
            <div class="oz-modal-title">
                <h2>Link Converter Plugin</h2>
            </div>
            <p>${this.message}</p>
        `;
        let continueButton = contentEl.createEl('button', { text: 'Continue' });
        continueButton.addEventListener('click', () => {
            this.callback();
            this.close();
        });
        const cancelButton = contentEl.createEl('button', { text: 'Cancel' });
        cancelButton.style.cssText = 'float: right;';
        cancelButton.addEventListener('click', () => this.close());
    }
}
class FolderSuggestionModal extends obsidian.FuzzySuggestModal {
    constructor(plugin, finalFormat) {
        super(plugin.app);
        this.plugin = plugin;
        this.finalFormat = finalFormat;
    }
    getItemText(item) {
        return item.path;
    }
    getItems() {
        return getAllFoldersInVault(this.app);
    }
    onChooseItem(folder, evt) {
        let infoText = `Are you sure you want to convert all
            ${this.finalFormat === 'wiki' ? 'Markdown Links to Wikilinks' : 'Wikilinks to Markdown Links'}
            under ${folder.name}?`;
        let modal = new ConfirmationModal(this.app, infoText, () => convertLinksUnderFolder(folder, this.plugin, this.finalFormat));
        modal.open();
    }
}
function getAllFoldersInVault(app) {
    let folders = [];
    let rootFolder = app.vault.getRoot();
    folders.push(rootFolder);
    function recursiveFx(folder) {
        for (let child of folder.children) {
            if (child instanceof obsidian.TFolder) {
                let childFolder = child;
                folders.push(childFolder);
                if (childFolder.children)
                    recursiveFx(childFolder);
            }
        }
    }
    recursiveFx(rootFolder);
    return folders;
}

// Icons from https://copyicon.com/ and https://iconsvg.xyz/
const BRACKET_ICON = `<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="currentColor" stroke="currentColor" viewBox="0 0 100 100"><path d="M 23.136719 15 C 21.878052 15 20.700995 15.32749 19.701172 15.982422 C 18.652109 16.670476 18 17.795519 18 19.015625 L 18 80.984375 C 18 82.205152 18.653942 83.330703 19.703125 84.017578 C 20.702582 84.673028 21.877834 85 23.136719 85 L 37.984375 85 C 39.194314 85 40.315244 84.374611 41.007812 83.353516 C 41.665298 82.38469 42 81.244557 42 80.035156 C 42 78.719909 41.655993 77.51284 40.953125 76.525391 A 1.0001 1.0001 0 0 0 40.951172 76.523438 C 40.215227 75.496161 39.079167 75 37.984375 75 L 29 75 L 29 25 L 37.984375 25 C 39.078394 25 40.217015 24.505328 40.953125 23.476562 A 1.0001 1.0001 0 0 0 40.953125 23.474609 C 41.656201 22.488141 42 21.2818 42 19.964844 C 42 18.753998 41.666698 17.614289 41.009766 16.644531 A 1.0001 1.0001 0 0 0 41.007812 16.642578 C 40.314352 15.623284 39.192361 15 37.982422 15 L 23.136719 15 z M 62.015625 15 C 60.805686 15 59.684756 15.625389 58.992188 16.646484 C 58.334648 17.615934 58 18.754828 58 19.964844 C 58 21.280946 58.343571 22.487775 59.046875 23.474609 A 1.0001 1.0001 0 0 0 59.046875 23.476562 C 59.782985 24.505281 60.921606 25 62.015625 25 L 71 25 L 71 75 L 62.015625 75 C 60.920833 75 59.78482 75.496115 59.048828 76.523438 A 1.0001 1.0001 0 0 0 59.046875 76.525391 C 58.344281 77.512474 58 78.719054 58 80.035156 C 58 81.246002 58.33346 82.386577 58.990234 83.355469 A 1.0001 1.0001 0 0 0 58.990234 83.357422 C 59.683742 84.376716 60.805686 85 62.015625 85 L 76.863281 85 C 78.121319 85 79.29711 84.673229 80.296875 84.017578 C 81.345752 83.330904 82.001331 82.205786 82 80.984375 L 82 19.017578 C 82 17.796746 81.345631 16.670275 80.296875 15.982422 C 79.297095 15.326316 78.120842 15 76.861328 15 L 62.015625 15 z M 23.136719 17 L 37.982422 17 C 38.608483 17 38.953023 17.17892 39.353516 17.767578 C 39.788583 18.40982 40 19.105689 40 19.964844 C 40 20.947133 39.766479 21.691303 39.324219 22.3125 C 39.324219 22.3125 39.324219 22.314453 39.324219 22.314453 C 38.909471 22.892973 38.613258 23 37.984375 23 L 28 23 A 1.0001 1.0001 0 0 0 27 24 L 27 76 A 1.0001 1.0001 0 0 0 28 77 L 37.984375 77 C 38.612858 77 38.908965 77.108583 39.324219 77.6875 C 39.766688 78.309763 40 79.055157 40 80.035156 C 40 80.893141 39.787366 81.591613 39.353516 82.230469 A 1.0001 1.0001 0 0 0 39.353516 82.232422 C 38.954084 82.82128 38.610436 83 37.984375 83 L 23.136719 83 C 22.210233 83 21.463048 82.781597 20.798828 82.345703 A 1.0001 1.0001 0 0 0 20.796875 82.34375 C 20.178105 81.938672 20 81.601598 20 80.984375 L 20 19.015625 C 20 18.399731 20.179891 18.060243 20.798828 17.654297 C 21.463005 17.219229 22.211385 17 23.136719 17 z M 62.015625 17 L 76.861328 17 C 77.787814 17 78.536952 17.218403 79.201172 17.654297 C 79.820416 18.060444 80 18.40241 80 19.017578 L 80 80.984375 A 1.0001 1.0001 0 0 0 80 80.986328 C 80.000669 81.600917 79.822248 81.938425 79.203125 82.34375 A 1.0001 1.0001 0 0 0 79.201172 82.345703 C 78.537306 82.781302 77.788615 83 76.863281 83 L 62.015625 83 C 61.390243 83 61.046422 82.819556 60.646484 82.232422 C 60.213258 81.593314 60 80.894311 60 80.035156 C 60 79.054012 60.233086 78.310079 60.675781 77.6875 C 60.675781 77.6875 60.675781 77.685547 60.675781 77.685547 C 61.09065 77.107578 61.387514 77 62.015625 77 L 72 77 A 1.0001 1.0001 0 0 0 73 76 L 73 24 A 1.0001 1.0001 0 0 0 72 23 L 62.015625 23 C 61.386742 23 61.090529 22.89302 60.675781 22.314453 L 60.675781 22.3125 C 60.233747 21.691666 60 20.945988 60 19.964844 C 60 19.106859 60.212024 18.408128 60.646484 17.767578 C 61.045916 17.178673 61.389564 17 62.015625 17 z M 23.492188 22.992188 A 0.50005 0.50005 0 0 0 23 23.5 L 23 24.5 A 0.50005 0.50005 0 1 0 24 24.5 L 24 23.5 A 0.50005 0.50005 0 0 0 23.492188 22.992188 z M 76.492188 22.992188 A 0.50005 0.50005 0 0 0 76 23.5 L 76 24.5 A 0.50005 0.50005 0 1 0 77 24.5 L 77 23.5 A 0.50005 0.50005 0 0 0 76.492188 22.992188 z M 23.492188 26.992188 A 0.50005 0.50005 0 0 0 23 27.5 L 23 31.5 A 0.50005 0.50005 0 1 0 24 31.5 L 24 27.5 A 0.50005 0.50005 0 0 0 23.492188 26.992188 z M 76.492188 26.992188 A 0.50005 0.50005 0 0 0 76 27.5 L 76 31.5 A 0.50005 0.50005 0 1 0 77 31.5 L 77 27.5 A 0.50005 0.50005 0 0 0 76.492188 26.992188 z M 23.492188 33.992188 A 0.50005 0.50005 0 0 0 23 34.5 L 23 76.5 A 0.50005 0.50005 0 1 0 24 76.5 L 24 34.5 A 0.50005 0.50005 0 0 0 23.492188 33.992188 z M 76.492188 33.992188 A 0.50005 0.50005 0 0 0 76 34.5 L 76 76.5 A 0.50005 0.50005 0 1 0 77 76.5 L 77 34.5 A 0.50005 0.50005 0 0 0 76.492188 33.992188 z"/></svg>`;
const MARKDOWN_ICON = `<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="currentColor" stroke="currentColor" viewBox="0 0 64 64"><path d="M 5 8 C 3.347656 8 2 9.347656 2 11 L 2 53 C 2 54.652344 3.347656 56 5 56 L 59 56 C 60.652344 56 62 54.652344 62 53 L 62 11 C 62 9.347656 60.652344 8 59 8 Z M 5 10 L 59 10 C 59.550781 10 60 10.449219 60 11 L 60 53 C 60 53.550781 59.550781 54 59 54 L 5 54 C 4.449219 54 4 53.550781 4 53 L 4 11 C 4 10.449219 4.449219 10 5 10 Z M 45 20 C 44.449219 20 44 20.445313 44 21 L 44 36.585938 L 41.707031 34.292969 C 41.316406 33.902344 40.683594 33.902344 40.292969 34.292969 C 39.902344 34.683594 39.902344 35.316406 40.292969 35.707031 L 44.292969 39.703125 C 44.386719 39.796875 44.496094 39.871094 44.617188 39.921875 C 44.738281 39.972656 44.871094 40 45 40 C 45.128906 40 45.261719 39.972656 45.382813 39.921875 C 45.503906 39.871094 45.613281 39.796875 45.707031 39.703125 L 49.707031 35.707031 C 50.097656 35.316406 50.097656 34.683594 49.707031 34.292969 C 49.316406 33.902344 48.683594 33.902344 48.292969 34.292969 L 46 36.585938 L 46 21 C 46 20.445313 45.550781 20 45 20 Z M 16.109375 20.003906 C 16.003906 19.996094 15.898438 20 15.792969 20.019531 C 15.371094 20.113281 15.054688 20.460938 15.003906 20.890625 L 13.003906 38.890625 C 12.945313 39.4375 13.339844 39.929688 13.890625 39.992188 C 14.4375 40.046875 14.929688 39.660156 14.992188 39.109375 L 16.660156 24.113281 L 22.136719 33.503906 C 22.496094 34.117188 23.503906 34.117188 23.863281 33.503906 L 29.339844 24.113281 L 31.007813 39.109375 C 31.0625 39.621094 31.496094 40 32 40 C 32.035156 40 32.074219 40 32.109375 39.996094 C 32.660156 39.933594 33.054688 39.4375 32.996094 38.890625 L 30.996094 20.890625 C 30.945313 20.460938 30.628906 20.113281 30.207031 20.019531 C 29.785156 19.929688 29.355469 20.125 29.136719 20.496094 L 23 31.015625 L 16.863281 20.496094 C 16.699219 20.21875 16.417969 20.039063 16.109375 20.003906 Z M 7 48 C 6.449219 48 6 48.445313 6 49 L 6 51 C 6 51.554688 6.449219 52 7 52 C 7.550781 52 8 51.554688 8 51 L 8 49 C 8 48.445313 7.550781 48 7 48 Z M 12 48 C 11.449219 48 11 48.445313 11 49 L 11 51 C 11 51.554688 11.449219 52 12 52 C 12.550781 52 13 51.554688 13 51 L 13 49 C 13 48.445313 12.550781 48 12 48 Z M 17 48 C 16.449219 48 16 48.445313 16 49 L 16 51 C 16 51.554688 16.449219 52 17 52 C 17.550781 52 18 51.554688 18 51 L 18 49 C 18 48.445313 17.550781 48 17 48 Z M 22 48 C 21.449219 48 21 48.445313 21 49 L 21 51 C 21 51.554688 21.449219 52 22 52 C 22.550781 52 23 51.554688 23 51 L 23 49 C 23 48.445313 22.550781 48 22 48 Z M 27 48 C 26.449219 48 26 48.445313 26 49 L 26 51 C 26 51.554688 26.449219 52 27 52 C 27.550781 52 28 51.554688 28 51 L 28 49 C 28 48.445313 27.550781 48 27 48 Z M 32 48 C 31.449219 48 31 48.445313 31 49 L 31 51 C 31 51.554688 31.449219 52 32 52 C 32.550781 52 33 51.554688 33 51 L 33 49 C 33 48.445313 32.550781 48 32 48 Z M 37 48 C 36.449219 48 36 48.445313 36 49 L 36 51 C 36 51.554688 36.449219 52 37 52 C 37.550781 52 38 51.554688 38 51 L 38 49 C 38 48.445313 37.550781 48 37 48 Z M 42 48 C 41.449219 48 41 48.445313 41 49 L 41 51 C 41 51.554688 41.449219 52 42 52 C 42.550781 52 43 51.554688 43 51 L 43 49 C 43 48.445313 42.550781 48 42 48 Z M 47 48 C 46.449219 48 46 48.445313 46 49 L 46 51 C 46 51.554688 46.449219 52 47 52 C 47.550781 52 48 51.554688 48 51 L 48 49 C 48 48.445313 47.550781 48 47 48 Z M 52 48 C 51.449219 48 51 48.445313 51 49 L 51 51 C 51 51.554688 51.449219 52 52 52 C 52.550781 52 53 51.554688 53 51 L 53 49 C 53 48.445313 52.550781 48 52 48 Z M 57 48 C 56.449219 48 56 48.445313 56 49 L 56 51 C 56 51.554688 56.449219 52 57 52 C 57.550781 52 58 51.554688 58 51 L 58 49 C 58 48.445313 57.550781 48 57 48 Z"/></svg>`;
const LINK_EDIT_ICON = `<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" fill="currentColor" stroke="currentColor" viewBox="0 0 64 64"> <path d="M 44.140625 3.453125 C 41.323125 3.453125 38.504375 4.5249219 36.359375 6.6699219 L 30.710938 12.320312 C 27.160937 15.870312 26.550859 21.270937 28.880859 25.460938 L 25.460938 28.880859 C 21.270937 26.550859 15.870313 27.160938 12.320312 30.710938 L 6.6699219 36.359375 C 4.5899219 38.439375 3.4394531 41.200625 3.4394531 44.140625 C 3.4394531 47.080625 4.5899219 49.839922 6.6699219 51.919922 L 8.0800781 53.330078 C 10.220078 55.480078 13.039375 56.550781 15.859375 56.550781 C 18.669375 56.550781 21.490625 55.480078 23.640625 53.330078 L 29.289062 47.679688 C 32.839063 44.129688 33.449141 38.729062 31.119141 34.539062 L 34.539062 31.119141 C 36.199062 32.049141 38.050391 32.509766 39.900391 32.509766 C 42.720391 32.509766 45.529687 31.439063 47.679688 29.289062 L 53.330078 23.640625 C 55.410078 21.560625 56.560547 18.799375 56.560547 15.859375 C 56.560547 12.919375 55.410078 10.160078 53.330078 8.0800781 L 51.919922 6.6699219 C 49.774922 4.5249219 46.958125 3.453125 44.140625 3.453125 z M 44.144531 5.4472656 C 46.449531 5.4472656 48.754766 6.3250781 50.509766 8.0800781 L 51.919922 9.4902344 C 53.619922 11.190234 54.560547 13.449375 54.560547 15.859375 C 54.560547 18.259375 53.619922 20.520703 51.919922 22.220703 L 46.259766 27.880859 C 44.559766 29.580859 42.300391 30.509766 39.900391 30.509766 C 38.540391 30.509766 37.219297 30.210859 36.029297 29.630859 L 39.199219 26.460938 C 39.429219 26.490938 39.660391 26.509766 39.900391 26.509766 C 41.240391 26.509766 42.489688 25.990781 43.429688 25.050781 L 49.089844 19.390625 C 50.039844 18.450625 50.560547 17.189375 50.560547 15.859375 C 50.560547 14.519375 50.039844 13.270313 49.089844 12.320312 L 47.679688 10.910156 C 45.729687 8.9601563 42.549375 8.9601563 40.609375 10.910156 L 34.949219 16.560547 C 34.009219 17.510547 33.490234 18.759609 33.490234 20.099609 C 33.490234 20.339609 33.509063 20.570781 33.539062 20.800781 L 30.369141 23.970703 C 29.789141 22.780703 29.490234 21.459609 29.490234 20.099609 C 29.490234 17.699609 30.419141 15.440234 32.119141 13.740234 L 37.779297 8.0800781 C 39.534297 6.3250781 41.839531 5.4472656 44.144531 5.4472656 z M 24.746094 9.2734375 C 24.617703 9.2554844 24.483813 9.261625 24.351562 9.296875 C 23.817563 9.439875 23.500531 9.9874844 23.644531 10.521484 L 24.164062 12.455078 C 24.284063 12.902078 24.686906 13.195312 25.128906 13.195312 C 25.214906 13.195312 25.302672 13.184156 25.388672 13.160156 C 25.922672 13.017156 26.239703 12.469547 26.095703 11.935547 L 25.576172 10.003906 C 25.468172 9.6034062 25.131266 9.3272969 24.746094 9.2734375 z M 19.664062 11.269531 C 19.535328 11.285625 19.406109 11.327234 19.287109 11.396484 C 18.808109 11.672484 18.644875 12.283719 18.921875 12.761719 L 19.921875 14.494141 C 20.107875 14.815141 20.443063 14.994141 20.789062 14.994141 C 20.959063 14.994141 21.130109 14.950375 21.287109 14.859375 C 21.766109 14.583375 21.931297 13.972141 21.654297 13.494141 L 20.654297 11.761719 C 20.446547 11.402469 20.050266 11.22125 19.664062 11.269531 z M 44.140625 11.443359 C 44.908125 11.443359 45.674766 11.735312 46.259766 12.320312 L 47.679688 13.740234 C 48.239688 14.300234 48.560547 15.059375 48.560547 15.859375 C 48.560547 16.659375 48.239688 17.410469 47.679688 17.980469 L 42.019531 23.640625 C 41.799531 23.860625 41.539766 24.039687 41.259766 24.179688 C 41.599766 23.589688 41.779297 22.920703 41.779297 22.220703 C 41.779297 21.150703 41.359375 20.150625 40.609375 19.390625 C 39.849375 18.640625 38.849297 18.220703 37.779297 18.220703 C 37.079297 18.220703 36.410312 18.400234 35.820312 18.740234 C 35.950313 18.460234 36.139375 18.210469 36.359375 17.980469 L 42.019531 12.320312 C 42.604531 11.735312 43.373125 11.443359 44.140625 11.443359 z M 15.646484 14.441406 C 15.390734 14.441406 15.134953 14.538875 14.939453 14.734375 C 14.548453 15.125375 14.548453 15.757437 14.939453 16.148438 L 16.353516 17.5625 C 16.548516 17.7575 16.804547 17.855469 17.060547 17.855469 C 17.316547 17.855469 17.572578 17.7575 17.767578 17.5625 C 18.158578 17.1715 18.158578 16.539438 17.767578 16.148438 L 16.353516 14.734375 C 16.158016 14.538875 15.902234 14.441406 15.646484 14.441406 z M 12.591797 18.589844 C 12.204937 18.541703 11.808562 18.722781 11.601562 19.082031 C 11.324562 19.560031 11.48975 20.172219 11.96875 20.449219 L 13.699219 21.449219 C 13.856219 21.540219 14.029219 21.582031 14.199219 21.582031 C 14.545219 21.582031 14.881406 21.403031 15.066406 21.082031 C 15.342406 20.603031 15.177219 19.992797 14.699219 19.716797 L 12.96875 18.716797 C 12.849 18.647797 12.72075 18.605891 12.591797 18.589844 z M 37.779297 20.220703 C 38.309297 20.220703 38.809453 20.430547 39.189453 20.810547 C 39.569453 21.190547 39.779297 21.690703 39.779297 22.220703 C 39.779297 22.760703 39.569453 23.260625 39.189453 23.640625 L 38.609375 24.220703 L 37.150391 25.679688 L 34.279297 28.550781 L 32.869141 29.960938 L 29.970703 32.859375 L 28.550781 34.279297 L 25.679688 37.150391 L 24.220703 38.609375 L 23.640625 39.189453 C 23.260625 39.569453 22.740703 39.759766 22.220703 39.759766 C 21.700703 39.759766 21.180547 39.569453 20.810547 39.189453 C 20.430547 38.809453 20.220703 38.309297 20.220703 37.779297 C 20.220703 37.239297 20.430547 36.739375 20.810547 36.359375 L 21.390625 35.779297 L 22.849609 34.320312 L 25.720703 31.449219 L 27.140625 30.029297 L 30.029297 27.140625 L 31.449219 25.720703 L 34.320312 22.849609 L 35.779297 21.390625 L 36.359375 20.810547 C 36.739375 20.430547 37.239297 20.220703 37.779297 20.220703 z M 10.333984 23.416016 C 9.9482969 23.469875 9.6111563 23.745984 9.5039062 24.146484 C 9.3609063 24.680484 9.6779375 25.228094 10.210938 25.371094 L 12.142578 25.890625 C 12.229578 25.913625 12.316344 25.925781 12.402344 25.925781 C 12.843344 25.925781 13.248188 25.630594 13.367188 25.183594 C 13.510188 24.650594 13.193156 24.100031 12.660156 23.957031 L 10.728516 23.439453 C 10.595766 23.404203 10.462547 23.398062 10.333984 23.416016 z M 54.341797 28.417969 C 53.061297 28.418219 51.782594 28.904906 50.808594 29.878906 L 48.736328 31.949219 L 48.736328 31.951172 L 48.580078 32.105469 L 47.980469 32.707031 C 47.978469 32.709031 47.978563 32.710891 47.976562 32.712891 L 44.943359 35.755859 C 44.933359 35.765859 44.918203 35.769297 44.908203 35.779297 C 44.898203 35.789297 44.896719 35.803453 44.886719 35.814453 L 30.138672 50.607422 C 29.979672 50.766422 29.878516 50.973266 29.853516 51.197266 L 29.119141 57.507812 L 28.412109 62.457031 C 28.368109 62.769031 28.473312 63.083641 28.695312 63.306641 C 28.883312 63.495641 29.138344 63.599609 29.402344 63.599609 C 29.449344 63.599609 29.496922 63.596844 29.544922 63.589844 L 34.466797 62.886719 L 40.851562 62.210938 C 41.080562 62.186937 41.292078 62.084875 41.455078 61.921875 L 59.296875 44.021484 L 62.123047 41.193359 C 63.067047 40.249359 63.587891 38.993203 63.587891 37.658203 C 63.585891 36.320203 63.065094 35.065094 62.121094 34.121094 L 57.878906 29.878906 C 56.903906 28.903906 55.622297 28.417719 54.341797 28.417969 z M 20.099609 29.490234 C 21.459609 29.490234 22.780703 29.789141 23.970703 30.369141 L 20.800781 33.539062 C 20.570781 33.509062 20.339609 33.490234 20.099609 33.490234 C 18.759609 33.490234 17.510312 34.009219 16.570312 34.949219 L 10.910156 40.609375 C 9.9601563 41.549375 9.4394531 42.810625 9.4394531 44.140625 C 9.4394531 45.480625 9.9601562 46.729688 10.910156 47.679688 L 12.320312 49.089844 C 13.300313 50.069844 14.579375 50.550781 15.859375 50.550781 C 17.139375 50.550781 18.420625 50.069844 19.390625 49.089844 L 25.050781 43.439453 C 25.990781 42.489453 26.509766 41.240391 26.509766 39.900391 C 26.509766 39.660391 26.490938 39.429219 26.460938 39.199219 L 29.630859 36.029297 C 30.210859 37.219297 30.509766 38.540391 30.509766 39.900391 C 30.509766 42.300391 29.580859 44.559766 27.880859 46.259766 L 22.220703 51.919922 C 18.710703 55.429922 13.000234 55.429922 9.4902344 51.919922 L 8.0800781 50.509766 C 6.3800781 48.809766 5.4394531 46.550625 5.4394531 44.140625 C 5.4394531 41.740625 6.3800781 39.479297 8.0800781 37.779297 L 13.740234 32.119141 C 15.440234 30.419141 17.699609 29.490234 20.099609 29.490234 z M 54.341797 30.416016 C 55.110047 30.415766 55.879344 30.707969 56.464844 31.292969 L 60.707031 35.535156 C 61.273031 36.102156 61.585938 36.856203 61.585938 37.658203 C 61.585938 38.458203 61.273031 39.210344 60.707031 39.777344 L 58.585938 41.898438 L 50.101562 33.414062 L 52.222656 31.292969 C 52.807156 30.708969 53.573547 30.416266 54.341797 30.416016 z M 48.689453 34.830078 L 57.173828 43.314453 L 55.519531 44.974609 L 47.033203 36.490234 L 48.689453 34.830078 z M 18.740234 35.820312 C 18.400234 36.410313 18.220703 37.079297 18.220703 37.779297 C 18.220703 38.849297 18.640625 39.849375 19.390625 40.609375 C 20.150625 41.359375 21.150703 41.779297 22.220703 41.779297 C 22.920703 41.779297 23.589688 41.599766 24.179688 41.259766 C 24.049688 41.539766 23.860625 41.789531 23.640625 42.019531 L 17.980469 47.679688 C 16.810469 48.849688 14.910234 48.849688 13.740234 47.679688 L 12.320312 46.259766 C 11.760312 45.699766 11.439453 44.940625 11.439453 44.140625 C 11.439453 43.340625 11.760313 42.589531 12.320312 42.019531 L 17.980469 36.359375 C 18.200469 36.139375 18.460234 35.960312 18.740234 35.820312 z M 45.621094 37.90625 L 54.107422 46.390625 L 41.455078 59.082031 L 41.003906 54.716797 C 40.949906 54.206797 40.522766 53.820313 40.009766 53.820312 L 38.181641 53.820312 L 38.181641 52.404297 L 43.544922 47.041016 C 43.935922 46.650016 43.935922 46.017953 43.544922 45.626953 C 43.153922 45.235953 42.521859 45.235953 42.130859 45.626953 L 36.810547 50.945312 L 33.019531 50.546875 L 45.621094 37.90625 z M 31.724609 52.421875 L 36.181641 52.890625 L 36.181641 54.818359 C 36.181641 55.370359 36.628641 55.818359 37.181641 55.818359 L 39.107422 55.818359 L 39.574219 60.330078 L 34.720703 60.845703 L 31.158203 57.283203 L 31.724609 52.421875 z"/></svg>`;

class LinkConverterPlugin extends obsidian.Plugin {
    constructor() {
        super(...arguments);
        this.addFileMenuItems = (menu, file) => {
            if (!(file instanceof obsidian.TFile && file.extension === 'md'))
                return;
            menu.addSeparator();
            menu.addItem((item) => {
                item.setTitle('Markdown Links to Wiki')
                    .setIcon('bracketIcon')
                    .onClick(() => convertLinksAndSaveInSingleFile(file, this, 'wiki'));
            });
            menu.addItem((item) => {
                item.setTitle('WikiLinks to Markdown')
                    .setIcon('markdownIcon')
                    .onClick(() => convertLinksAndSaveInSingleFile(file, this, 'markdown'));
            });
            if (this.settings.finalLinkFormat !== 'not-change') {
                let finalFormat = this.settings.finalLinkFormat;
                menu.addItem((item) => {
                    item.setTitle(`All Links to ${finalFormat === 'absolute-path' ? 'Absolute Path' : finalFormat === 'shortest-path' ? 'Shortest Path' : 'Relative Path'}`)
                        .setIcon('linkEditIcon')
                        .onClick(() => convertLinksInFileToPreferredFormat(file, this, finalFormat));
                });
            }
            menu.addSeparator();
        };
    }
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            console.log('Link Converter Loading...');
            obsidian.addIcon('bracketIcon', BRACKET_ICON);
            obsidian.addIcon('markdownIcon', MARKDOWN_ICON);
            obsidian.addIcon('linkEditIcon', LINK_EDIT_ICON);
            yield this.loadSettings();
            this.addSettingTab(new LinkConverterSettingsTab(this.app, this));
            this.addCommand({
                id: 'convert-wikis-to-md-in-active-file',
                name: 'Active File: Links to Markdown',
                callback: () => {
                    convertLinksInActiveFile(this, 'markdown');
                },
            });
            this.addCommand({
                id: 'convert-md-to-wikis-in-active-file',
                name: 'Active File: Links to Wiki',
                callback: () => {
                    convertLinksInActiveFile(this, 'wiki');
                },
            });
            this.addCommand({
                id: 'convert-links-format-in-active-file',
                name: 'Active File: Links Format',
                callback: () => {
                    let finalFormat = this.settings.finalLinkFormat;
                    convertLinksFormatInActiveFile(this, finalFormat);
                },
            });
            //todo: cuizj
            this.addCommand({
                id: 'convert-wikis-to-md-in-vault',
                name: 'Vault: Links to Markdown',
                callback: () => {
                    let infoText = 'Are you sure you want to convert all Wikilinks to Markdown Links?';
                    let modal = new ConfirmationModal(this.app, infoText, () => convertLinksInVault(this, 'markdown'));
                    modal.open();
                },
            });
            this.addCommand({
                id: 'convert-mdlinks-to-wiki-in-vault',
                name: 'Vault: Links to Wiki',
                callback: () => {
                    let infoText = 'Are you sure you want to convert all Markdown Links to Wikilinks?';
                    let modal = new ConfirmationModal(this.app, infoText, () => convertLinksInVault(this, 'wiki'));
                    modal.open();
                },
            });
            this.addCommand({
                id: 'convert-wikis-to-mdlink-under-folder',
                name: 'Certain Folder: Links to Markdown',
                callback: () => {
                    let fileMoveSuggester = new FolderSuggestionModal(this, 'markdown');
                    fileMoveSuggester.open();
                },
            });
            this.addCommand({
                id: 'convert-mdlinks-to-wikis-under-folder',
                name: 'Certain Folder: Links to Wiki',
                callback: () => {
                    let fileMoveSuggester = new FolderSuggestionModal(this, 'wiki');
                    fileMoveSuggester.open();
                },
            });
            this.addCommand({
                id: 'convert-wikis-to-mdlinks-within-selection',
                name: 'Editor Selection: Links to Markdown',
                callback: () => __awaiter(this, void 0, void 0, function* () { return convertLinksWithinSelection('markdown', this); }),
            });
            this.addCommand({
                id: 'convert-mdlinks-to-wiki-within-selection',
                name: 'Editor Selection: Links to Wiki',
                callback: () => __awaiter(this, void 0, void 0, function* () { return convertLinksWithinSelection('wiki', this); }),
            });
            if (this.settings.contextMenu)
                this.app.workspace.on('file-menu', this.addFileMenuItems);
        });
    }
    onunload() {
        console.log('Link Converter Unloading...');
        this.app.workspace.off('file-menu', this.addFileMenuItems);
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
        });
    }
}

module.exports = LinkConverterPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsInNyYy9zZXR0aW5ncy50cyIsInNyYy91dGlscy50cyIsInNyYy9jb252ZXJ0ZXIudHMiLCJzcmMvbW9kYWxzLnRzIiwic3JjL2ljb25zLnRzIiwic3JjL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19lc0RlY29yYXRlKGN0b3IsIGRlc2NyaXB0b3JJbiwgZGVjb3JhdG9ycywgY29udGV4dEluLCBpbml0aWFsaXplcnMsIGV4dHJhSW5pdGlhbGl6ZXJzKSB7XHJcbiAgICBmdW5jdGlvbiBhY2NlcHQoZikgeyBpZiAoZiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKTsgcmV0dXJuIGY7IH1cclxuICAgIHZhciBraW5kID0gY29udGV4dEluLmtpbmQsIGtleSA9IGtpbmQgPT09IFwiZ2V0dGVyXCIgPyBcImdldFwiIDoga2luZCA9PT0gXCJzZXR0ZXJcIiA/IFwic2V0XCIgOiBcInZhbHVlXCI7XHJcbiAgICB2YXIgdGFyZ2V0ID0gIWRlc2NyaXB0b3JJbiAmJiBjdG9yID8gY29udGV4dEluW1wic3RhdGljXCJdID8gY3RvciA6IGN0b3IucHJvdG90eXBlIDogbnVsbDtcclxuICAgIHZhciBkZXNjcmlwdG9yID0gZGVzY3JpcHRvckluIHx8ICh0YXJnZXQgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgY29udGV4dEluLm5hbWUpIDoge30pO1xyXG4gICAgdmFyIF8sIGRvbmUgPSBmYWxzZTtcclxuICAgIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgdmFyIGNvbnRleHQgPSB7fTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbikgY29udGV4dFtwXSA9IHAgPT09IFwiYWNjZXNzXCIgPyB7fSA6IGNvbnRleHRJbltwXTtcclxuICAgICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbi5hY2Nlc3MpIGNvbnRleHQuYWNjZXNzW3BdID0gY29udGV4dEluLmFjY2Vzc1twXTtcclxuICAgICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyID0gZnVuY3Rpb24gKGYpIHsgaWYgKGRvbmUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIGluaXRpYWxpemVycyBhZnRlciBkZWNvcmF0aW9uIGhhcyBjb21wbGV0ZWRcIik7IGV4dHJhSW5pdGlhbGl6ZXJzLnB1c2goYWNjZXB0KGYgfHwgbnVsbCkpOyB9O1xyXG4gICAgICAgIHZhciByZXN1bHQgPSAoMCwgZGVjb3JhdG9yc1tpXSkoa2luZCA9PT0gXCJhY2Nlc3NvclwiID8geyBnZXQ6IGRlc2NyaXB0b3IuZ2V0LCBzZXQ6IGRlc2NyaXB0b3Iuc2V0IH0gOiBkZXNjcmlwdG9yW2tleV0sIGNvbnRleHQpO1xyXG4gICAgICAgIGlmIChraW5kID09PSBcImFjY2Vzc29yXCIpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSBjb250aW51ZTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gbnVsbCB8fCB0eXBlb2YgcmVzdWx0ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkXCIpO1xyXG4gICAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuZ2V0KSkgZGVzY3JpcHRvci5nZXQgPSBfO1xyXG4gICAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuc2V0KSkgZGVzY3JpcHRvci5zZXQgPSBfO1xyXG4gICAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuaW5pdCkpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChfID0gYWNjZXB0KHJlc3VsdCkpIHtcclxuICAgICAgICAgICAgaWYgKGtpbmQgPT09IFwiZmllbGRcIikgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XHJcbiAgICAgICAgICAgIGVsc2UgZGVzY3JpcHRvcltrZXldID0gXztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAodGFyZ2V0KSBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSwgZGVzY3JpcHRvcik7XHJcbiAgICBkb25lID0gdHJ1ZTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3J1bkluaXRpYWxpemVycyh0aGlzQXJnLCBpbml0aWFsaXplcnMsIHZhbHVlKSB7XHJcbiAgICB2YXIgdXNlVmFsdWUgPSBhcmd1bWVudHMubGVuZ3RoID4gMjtcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdGlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFsdWUgPSB1c2VWYWx1ZSA/IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcsIHZhbHVlKSA6IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVzZVZhbHVlID8gdmFsdWUgOiB2b2lkIDA7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wcm9wS2V5KHgpIHtcclxuICAgIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzeW1ib2xcIiA/IHggOiBcIlwiLmNvbmNhdCh4KTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NldEZ1bmN0aW9uTmFtZShmLCBuYW1lLCBwcmVmaXgpIHtcclxuICAgIGlmICh0eXBlb2YgbmFtZSA9PT0gXCJzeW1ib2xcIikgbmFtZSA9IG5hbWUuZGVzY3JpcHRpb24gPyBcIltcIi5jb25jYXQobmFtZS5kZXNjcmlwdGlvbiwgXCJdXCIpIDogXCJcIjtcclxuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwgXCJuYW1lXCIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogcHJlZml4ID8gXCJcIi5jb25jYXQocHJlZml4LCBcIiBcIiwgbmFtZSkgOiBuYW1lIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChnICYmIChnID0gMCwgb3BbMF0gJiYgKF8gPSAwKSksIF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG0sIGspO1xyXG4gICAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcclxuICAgICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbi8qKiBAZGVwcmVjYXRlZCAqL1xyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcclxuICAgIGlmIChwYWNrIHx8IGFyZ3VtZW50cy5sZW5ndGggPT09IDIpIGZvciAodmFyIGkgPSAwLCBsID0gZnJvbS5sZW5ndGgsIGFyOyBpIDwgbDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xyXG4gICAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xyXG4gICAgICAgICAgICBhcltpXSA9IGZyb21baV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRvLmNvbmNhdChhciB8fCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogZmFsc2UgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgZ2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XHJcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XHJcbiAgICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XHJcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIChraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlciwgdmFsdWUpIDogZiA/IGYudmFsdWUgPSB2YWx1ZSA6IHN0YXRlLnNldChyZWNlaXZlciwgdmFsdWUpKSwgdmFsdWU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4oc3RhdGUsIHJlY2VpdmVyKSB7XHJcbiAgICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcclxuICAgIHJldHVybiB0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyID09PSBzdGF0ZSA6IHN0YXRlLmhhcyhyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnYsIHZhbHVlLCBhc3luYykge1xyXG4gICAgaWYgKHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSB2b2lkIDApIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiB2YWx1ZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGV4cGVjdGVkLlwiKTtcclxuICAgICAgICB2YXIgZGlzcG9zZTtcclxuICAgICAgICBpZiAoYXN5bmMpIHtcclxuICAgICAgICAgICAgaWYgKCFTeW1ib2wuYXN5bmNEaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jRGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICAgICAgICAgIGRpc3Bvc2UgPSB2YWx1ZVtTeW1ib2wuYXN5bmNEaXNwb3NlXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRpc3Bvc2UgPT09IHZvaWQgMCkge1xyXG4gICAgICAgICAgICBpZiAoIVN5bWJvbC5kaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmRpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgICAgICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmRpc3Bvc2VdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIGRpc3Bvc2UgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBub3QgZGlzcG9zYWJsZS5cIik7XHJcbiAgICAgICAgZW52LnN0YWNrLnB1c2goeyB2YWx1ZTogdmFsdWUsIGRpc3Bvc2U6IGRpc3Bvc2UsIGFzeW5jOiBhc3luYyB9KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGFzeW5jKSB7XHJcbiAgICAgICAgZW52LnN0YWNrLnB1c2goeyBhc3luYzogdHJ1ZSB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG5cclxudmFyIF9TdXBwcmVzc2VkRXJyb3IgPSB0eXBlb2YgU3VwcHJlc3NlZEVycm9yID09PSBcImZ1bmN0aW9uXCIgPyBTdXBwcmVzc2VkRXJyb3IgOiBmdW5jdGlvbiAoZXJyb3IsIHN1cHByZXNzZWQsIG1lc3NhZ2UpIHtcclxuICAgIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xyXG4gICAgcmV0dXJuIGUubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGUuZXJyb3IgPSBlcnJvciwgZS5zdXBwcmVzc2VkID0gc3VwcHJlc3NlZCwgZTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2Rpc3Bvc2VSZXNvdXJjZXMoZW52KSB7XHJcbiAgICBmdW5jdGlvbiBmYWlsKGUpIHtcclxuICAgICAgICBlbnYuZXJyb3IgPSBlbnYuaGFzRXJyb3IgPyBuZXcgX1N1cHByZXNzZWRFcnJvcihlLCBlbnYuZXJyb3IsIFwiQW4gZXJyb3Igd2FzIHN1cHByZXNzZWQgZHVyaW5nIGRpc3Bvc2FsLlwiKSA6IGU7XHJcbiAgICAgICAgZW52Lmhhc0Vycm9yID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICAgICAgd2hpbGUgKGVudi5zdGFjay5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIHJlYyA9IGVudi5zdGFjay5wb3AoKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSByZWMuZGlzcG9zZSAmJiByZWMuZGlzcG9zZS5jYWxsKHJlYy52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjLmFzeW5jKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihuZXh0LCBmdW5jdGlvbihlKSB7IGZhaWwoZSk7IHJldHVybiBuZXh0KCk7IH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBmYWlsKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChlbnYuaGFzRXJyb3IpIHRocm93IGVudi5lcnJvcjtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXh0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtcclxuICAgIF9fZXh0ZW5kczogX19leHRlbmRzLFxyXG4gICAgX19hc3NpZ246IF9fYXNzaWduLFxyXG4gICAgX19yZXN0OiBfX3Jlc3QsXHJcbiAgICBfX2RlY29yYXRlOiBfX2RlY29yYXRlLFxyXG4gICAgX19wYXJhbTogX19wYXJhbSxcclxuICAgIF9fbWV0YWRhdGE6IF9fbWV0YWRhdGEsXHJcbiAgICBfX2F3YWl0ZXI6IF9fYXdhaXRlcixcclxuICAgIF9fZ2VuZXJhdG9yOiBfX2dlbmVyYXRvcixcclxuICAgIF9fY3JlYXRlQmluZGluZzogX19jcmVhdGVCaW5kaW5nLFxyXG4gICAgX19leHBvcnRTdGFyOiBfX2V4cG9ydFN0YXIsXHJcbiAgICBfX3ZhbHVlczogX192YWx1ZXMsXHJcbiAgICBfX3JlYWQ6IF9fcmVhZCxcclxuICAgIF9fc3ByZWFkOiBfX3NwcmVhZCxcclxuICAgIF9fc3ByZWFkQXJyYXlzOiBfX3NwcmVhZEFycmF5cyxcclxuICAgIF9fc3ByZWFkQXJyYXk6IF9fc3ByZWFkQXJyYXksXHJcbiAgICBfX2F3YWl0OiBfX2F3YWl0LFxyXG4gICAgX19hc3luY0dlbmVyYXRvcjogX19hc3luY0dlbmVyYXRvcixcclxuICAgIF9fYXN5bmNEZWxlZ2F0b3I6IF9fYXN5bmNEZWxlZ2F0b3IsXHJcbiAgICBfX2FzeW5jVmFsdWVzOiBfX2FzeW5jVmFsdWVzLFxyXG4gICAgX19tYWtlVGVtcGxhdGVPYmplY3Q6IF9fbWFrZVRlbXBsYXRlT2JqZWN0LFxyXG4gICAgX19pbXBvcnRTdGFyOiBfX2ltcG9ydFN0YXIsXHJcbiAgICBfX2ltcG9ydERlZmF1bHQ6IF9faW1wb3J0RGVmYXVsdCxcclxuICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQ6IF9fY2xhc3NQcml2YXRlRmllbGRHZXQsXHJcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0OiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LFxyXG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZEluOiBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4sXHJcbiAgICBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZTogX19hZGREaXNwb3NhYmxlUmVzb3VyY2UsXHJcbiAgICBfX2Rpc3Bvc2VSZXNvdXJjZXM6IF9fZGlzcG9zZVJlc291cmNlcyxcclxufTtcclxuIiwiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nLCBNZW51LCBURmlsZSB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IExpbmtDb252ZXJ0ZXJQbHVnaW4gZnJvbSAnLi9tYWluJztcclxuXHJcbnR5cGUgZmluYWxMaW5rRm9ybWF0ID0gJ25vdC1jaGFuZ2UnIHwgJ3JlbGF0aXZlLXBhdGgnIHwgJ2Fic29sdXRlLXBhdGgnIHwgJ3Nob3J0ZXN0LXBhdGgnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBMaW5rQ29udmVydGVyUGx1Z2luU2V0dGluZ3Mge1xyXG4gICAgbXlTZXR0aW5nOiBzdHJpbmc7XHJcbiAgICBjb250ZXh0TWVudTogYm9vbGVhbjtcclxuICAgIGZpbmFsTGlua0Zvcm1hdDogZmluYWxMaW5rRm9ybWF0O1xyXG4gICAga2VlcE10aW1lOiBib29sZWFuO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogTGlua0NvbnZlcnRlclBsdWdpblNldHRpbmdzID0ge1xyXG4gICAgbXlTZXR0aW5nOiAnZGVmYXVsdCcsXHJcbiAgICBjb250ZXh0TWVudTogdHJ1ZSxcclxuICAgIGZpbmFsTGlua0Zvcm1hdDogJ25vdC1jaGFuZ2UnLFxyXG4gICAga2VlcE10aW1lOiBmYWxzZSxcclxufTtcclxuXHJcbmV4cG9ydCBjbGFzcyBMaW5rQ29udmVydGVyU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuICAgIHBsdWdpbjogTGlua0NvbnZlcnRlclBsdWdpbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBMaW5rQ29udmVydGVyUGx1Z2luKSB7XHJcbiAgICAgICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xyXG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gICAgfVxyXG5cclxuICAgIGRpc3BsYXkoKTogdm9pZCB7XHJcbiAgICAgICAgbGV0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XHJcblxyXG4gICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ09ic2lkaWFuIExpbmsgQ29udmVydGVyJyB9KTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKCdGaWxlIENvbnRleHQgTWVudScpXHJcbiAgICAgICAgICAgIC5zZXREZXNjKFwiVHVybiB0aGlzIG9wdGlvbiBvZmYgaWYgeW91IGRvbid0IHdhbnQgc2luZ2xlIGZpbGUgY29tbWFuZHMgdG8gYXBwZWFyIHdpdGhpbiB0aGUgZmlsZSBjb250ZXh0IG1lbnVcIilcclxuICAgICAgICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY29udGV4dE1lbnUpLm9uQ2hhbmdlKChuZXdWYWwpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb250ZXh0TWVudSA9IG5ld1ZhbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oJ2ZpbGUtbWVudScsIHRoaXMucGx1Z2luLmFkZEZpbGVNZW51SXRlbXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub2ZmKCdmaWxlLW1lbnUnLCB0aGlzLnBsdWdpbi5hZGRGaWxlTWVudUl0ZW1zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG4gICAgICAgICAgICAuc2V0TmFtZSgnQ29udmVydGVkIExpbmsgRm9ybWF0JylcclxuICAgICAgICAgICAgLnNldERlc2MoJ1NlbGVjdCB0aGUgcHJlZmVycmVkIG9wdGlvbiBmb3IgdGhlIGZpbmFsIGxpbmsgZm9ybWF0IGFmdGVyIHRoZSBjb252ZXJzaW9uLiBQbHVnaW4gd2lsbCB1c2UgdGhlIHByZWZlcnJlbmNlIHdoZXJlIHBvc3NpYmxlJylcclxuICAgICAgICAgICAgLmFkZERyb3Bkb3duKChkcm9wZG93bikgPT4ge1xyXG4gICAgICAgICAgICAgICAgZHJvcGRvd25cclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKCdub3QtY2hhbmdlJywgJ0RvIG5vdCBjaGFuZ2UnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oJ3JlbGF0aXZlLXBhdGgnLCAnUmVsYXRpdmUgUGF0aCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbignYWJzb2x1dGUtcGF0aCcsICdBYnNvbHV0ZSBQYXRoJylcclxuICAgICAgICAgICAgICAgICAgICAuYWRkT3B0aW9uKCdzaG9ydGVzdC1wYXRoJywgJ1Nob3J0ZXN0IFBhdGgnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5maW5hbExpbmtGb3JtYXQpXHJcbiAgICAgICAgICAgICAgICAgICAgLm9uQ2hhbmdlKChvcHRpb246IGZpbmFsTGlua0Zvcm1hdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5maW5hbExpbmtGb3JtYXQgPSBvcHRpb247XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcbiAgICAgICAgICAgIC5zZXROYW1lKCdLZWVwIG1UaW1lIChMYXN0IE1vZGlmaWVkIFRpbWUpJylcclxuICAgICAgICAgICAgLnNldERlc2MoJ1R1cm4gb24gdGhpcyBvcHRpb24gaWYgeW91IHdhbnQgcGx1Z2luIHRvIGtlZXAgdGhlIG10aW1lIG9mIGZpbGVzIHNhbWUgZHVyaW5nIHRoZSBsaW5rIGNvbnZlcnNpb24nKVxyXG4gICAgICAgICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XHJcbiAgICAgICAgICAgICAgICB0b2dnbGUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Mua2VlcE10aW1lKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5rZWVwTXRpbWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvZmZlZURpdiA9IGNvbnRhaW5lckVsLmNyZWF0ZURpdignY29mZmVlJyk7XHJcbiAgICAgICAgY29mZmVlRGl2LmFkZENsYXNzKCdvei1jb2ZmZWUtZGl2Jyk7XHJcbiAgICAgICAgY29uc3QgY29mZmVlTGluayA9IGNvZmZlZURpdi5jcmVhdGVFbCgnYScsIHsgaHJlZjogJ2h0dHBzOi8va28tZmkuY29tL0wzTDM1NlY2UScgfSk7XHJcbiAgICAgICAgY29uc3QgY29mZmVlSW1nID0gY29mZmVlTGluay5jcmVhdGVFbCgnaW1nJywge1xyXG4gICAgICAgICAgICBhdHRyOiB7XHJcbiAgICAgICAgICAgICAgICBzcmM6ICdodHRwczovL2Nkbi5rby1maS5jb20vY2RuL2tvZmkyLnBuZz92PTMnLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvZmZlZUltZy5oZWlnaHQgPSA0NTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgTGlua0NvbnZlcnRlclBsdWdpbiBmcm9tICdtYWluJztcclxuaW1wb3J0IHsgVEZpbGUsIFRGb2xkZXIsIEFwcCB9IGZyb20gJ29ic2lkaWFuJztcclxuXHJcbi8vIEhlbHBlciBGdW5jdGlvbiBUbyBHZXQgTGlzdCBvZiBGaWxlc1xyXG5leHBvcnQgY29uc3QgZ2V0RmlsZXNVbmRlclBhdGggPSAocGF0aDogc3RyaW5nLCBwbHVnaW46IExpbmtDb252ZXJ0ZXJQbHVnaW4pOiBURmlsZVtdID0+IHtcclxuICAgIHZhciBmaWxlc1VuZGVyUGF0aDogVEZpbGVbXSA9IFtdO1xyXG4gICAgcmVjdXJzaXZlRngocGF0aCwgcGx1Z2luLmFwcCk7XHJcbiAgICBmdW5jdGlvbiByZWN1cnNpdmVGeChwYXRoOiBzdHJpbmcsIGFwcDogQXBwKSB7XHJcbiAgICAgICAgdmFyIGZvbGRlck9iaiA9IGFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgocGF0aCk7XHJcbiAgICAgICAgaWYgKGZvbGRlck9iaiBpbnN0YW5jZW9mIFRGb2xkZXIgJiYgZm9sZGVyT2JqLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGNoaWxkIG9mIGZvbGRlck9iai5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVEZpbGUgJiYgY2hpbGQuZXh0ZW5zaW9uID09PSAnbWQnKSBmaWxlc1VuZGVyUGF0aC5wdXNoKGNoaWxkKTtcclxuICAgICAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRGb2xkZXIpIHJlY3Vyc2l2ZUZ4KGNoaWxkLnBhdGgsIGFwcCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmlsZXNVbmRlclBhdGg7XHJcbn07XHJcbiIsImltcG9ydCBMaW5rQ29udmVydGVyUGx1Z2luIGZyb20gJ21haW4nO1xyXG5pbXBvcnQgeyBBcHAsIFRGaWxlLCBOb3RpY2UsIG5vcm1hbGl6ZVBhdGgsIFRGb2xkZXIsIE1hcmtkb3duVmlldyB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgZ2V0RmlsZXNVbmRlclBhdGggfSBmcm9tICcuL3V0aWxzJztcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tIExJTksgREVURUNUT1IgLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbnR5cGUgRmluYWxGb3JtYXQgPSAncmVsYXRpdmUtcGF0aCcgfCAnYWJzb2x1dGUtcGF0aCcgfCAnc2hvcnRlc3QtcGF0aCc7XHJcbnR5cGUgTGlua1R5cGUgPSAnbWFya2Rvd24nIHwgJ3dpa2knIHwgJ3dpa2lUcmFuc2NsdXNpb24nIHwgJ21kVHJhbnNjbHVzaW9uJztcclxuXHJcbmludGVyZmFjZSBMaW5rTWF0Y2gge1xyXG4gICAgdHlwZTogTGlua1R5cGU7XHJcbiAgICBtYXRjaDogc3RyaW5nO1xyXG4gICAgbGlua1RleHQ6IHN0cmluZztcclxuICAgIGFsdE9yQmxvY2tSZWY6IHN0cmluZztcclxuICAgIHNvdXJjZUZpbGVQYXRoOiBzdHJpbmc7XHJcbn1cclxuXHJcbmNvbnN0IGdldEFsbExpbmtNYXRjaGVzSW5GaWxlID0gYXN5bmMgKG1kRmlsZTogVEZpbGUsIHBsdWdpbjogTGlua0NvbnZlcnRlclBsdWdpbik6IFByb21pc2U8TGlua01hdGNoW10+ID0+IHtcclxuICAgIGNvbnN0IGxpbmtNYXRjaGVzOiBMaW5rTWF0Y2hbXSA9IFtdO1xyXG4gICAgbGV0IGZpbGVUZXh0ID0gYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5yZWFkKG1kRmlsZSk7XHJcblxyXG4gICAgLy8gLS0+IEdldCBBbGwgV2lraUxpbmtzXHJcbiAgICBsZXQgd2lraVJlZ2V4ID0gL1xcW1xcWy4qP1xcXVxcXS9nO1xyXG4gICAgbGV0IHdpa2lNYXRjaGVzID0gZmlsZVRleHQubWF0Y2god2lraVJlZ2V4KTtcclxuXHJcbiAgICBpZiAod2lraU1hdGNoZXMpIHtcclxuICAgICAgICBsZXQgZmlsZVJlZ2V4ID0gLyg/PD1cXFtcXFspLio/KD89KFxcXXxcXHwpKS87XHJcbiAgICAgICAgbGV0IGFsdFJlZ2V4ID0gLyg/PD1cXHwpLiooPz1dXSkvO1xyXG5cclxuICAgICAgICBmb3IgKGxldCB3aWtpTWF0Y2ggb2Ygd2lraU1hdGNoZXMpIHtcclxuICAgICAgICAgICAgLy8gLS0+IENoZWNrIGlmIGl0IGlzIFRyYW5zY2x1c2lvblxyXG4gICAgICAgICAgICBpZiAobWF0Y2hJc1dpa2lUcmFuc2NsdXNpb24od2lraU1hdGNoKSkge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpbGVOYW1lID0gZ2V0VHJhbnNjbHVzaW9uRmlsZU5hbWUod2lraU1hdGNoKTtcclxuICAgICAgICAgICAgICAgIGxldCBibG9ja1JlZk1hdGNoID0gZ2V0VHJhbnNjbHVzaW9uQmxvY2tSZWYod2lraU1hdGNoKTtcclxuICAgICAgICAgICAgICAgIGlmIChmaWxlTmFtZSAhPT0gJycgJiYgYmxvY2tSZWZNYXRjaCAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGlua01hdGNoOiBMaW5rTWF0Y2ggPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3aWtpVHJhbnNjbHVzaW9uJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2g6IHdpa2lNYXRjaCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGlua1RleHQ6IGZpbGVOYW1lLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHRPckJsb2NrUmVmOiBibG9ja1JlZk1hdGNoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzb3VyY2VGaWxlUGF0aDogbWRGaWxlLnBhdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5rTWF0Y2hlcy5wdXNoKGxpbmtNYXRjaCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gLS0+IE5vcm1hbCBJbnRlcm5hbCBMaW5rXHJcbiAgICAgICAgICAgIGxldCBmaWxlTWF0Y2ggPSB3aWtpTWF0Y2gubWF0Y2goZmlsZVJlZ2V4KTtcclxuICAgICAgICAgICAgaWYgKGZpbGVNYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgLy8gV2ViIGxpbmtzIGFyZSB0byBiZSBza2lwcGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsZU1hdGNoWzBdLnN0YXJ0c1dpdGgoJ2h0dHAnKSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgYWx0TWF0Y2ggPSB3aWtpTWF0Y2gubWF0Y2goYWx0UmVnZXgpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGxpbmtNYXRjaDogTGlua01hdGNoID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3aWtpJyxcclxuICAgICAgICAgICAgICAgICAgICBtYXRjaDogd2lraU1hdGNoLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmtUZXh0OiBmaWxlTWF0Y2hbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgYWx0T3JCbG9ja1JlZjogYWx0TWF0Y2ggPyBhbHRNYXRjaFswXSA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUZpbGVQYXRoOiBtZEZpbGUucGF0aCxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBsaW5rTWF0Y2hlcy5wdXNoKGxpbmtNYXRjaCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0+IEdldCBBbGwgTWFya2Rvd24gTGlua3NcclxuICAgIGxldCBtYXJrZG93blJlZ2V4ID0gL1xcWyheJHwuKj8pXFxdXFwoKC4qPylcXCkvZztcclxuICAgIGxldCBtYXJrZG93bk1hdGNoZXMgPSBmaWxlVGV4dC5tYXRjaChtYXJrZG93blJlZ2V4KTtcclxuXHJcbiAgICBpZiAobWFya2Rvd25NYXRjaGVzKSB7XHJcbiAgICAgICAgbGV0IGZpbGVSZWdleCA9IC8oPzw9XFwoKS4qKD89XFwpKS87XHJcbiAgICAgICAgbGV0IGFsdFJlZ2V4ID0gLyg/PD1cXFspKF4kfC4qPykoPz1cXF0pLztcclxuICAgICAgICBmb3IgKGxldCBtYXJrZG93bk1hdGNoIG9mIG1hcmtkb3duTWF0Y2hlcykge1xyXG4gICAgICAgICAgICAvLyAtLT4gQ2hlY2sgaWYgaXQgaXMgVHJhbnNjbHVzaW9uXHJcbiAgICAgICAgICAgIGlmIChtYXRjaElzTWRUcmFuc2NsdXNpb24obWFya2Rvd25NYXRjaCkpIHtcclxuICAgICAgICAgICAgICAgIGxldCBmaWxlTmFtZSA9IGdldFRyYW5zY2x1c2lvbkZpbGVOYW1lKG1hcmtkb3duTWF0Y2gpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGJsb2NrUmVmTWF0Y2ggPSBnZXRUcmFuc2NsdXNpb25CbG9ja1JlZihtYXJrZG93bk1hdGNoKTtcclxuICAgICAgICAgICAgICAgIGlmIChmaWxlTmFtZSAhPT0gJycgJiYgYmxvY2tSZWZNYXRjaCAhPT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgbGlua01hdGNoOiBMaW5rTWF0Y2ggPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdtZFRyYW5zY2x1c2lvbicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoOiBtYXJrZG93bk1hdGNoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5rVGV4dDogZmlsZU5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsdE9yQmxvY2tSZWY6IGJsb2NrUmVmTWF0Y2gsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvdXJjZUZpbGVQYXRoOiBtZEZpbGUucGF0aCxcclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmtNYXRjaGVzLnB1c2gobGlua01hdGNoKTtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAtLT4gTm9ybWFsIEludGVybmFsIExpbmtcclxuICAgICAgICAgICAgbGV0IGZpbGVNYXRjaCA9IG1hcmtkb3duTWF0Y2gubWF0Y2goZmlsZVJlZ2V4KTtcclxuICAgICAgICAgICAgaWYgKGZpbGVNYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgLy8gV2ViIGxpbmtzIGFyZSB0byBiZSBza2lwcGVkXHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsZU1hdGNoWzBdLnN0YXJ0c1dpdGgoJ2h0dHAnKSkgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBsZXQgYWx0TWF0Y2ggPSBtYXJrZG93bk1hdGNoLm1hdGNoKGFsdFJlZ2V4KTtcclxuICAgICAgICAgICAgICAgIGxldCBsaW5rTWF0Y2g6IExpbmtNYXRjaCA9IHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnbWFya2Rvd24nLFxyXG4gICAgICAgICAgICAgICAgICAgIG1hdGNoOiBtYXJrZG93bk1hdGNoLFxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmtUZXh0OiBmaWxlTWF0Y2hbMF0sXHJcbiAgICAgICAgICAgICAgICAgICAgYWx0T3JCbG9ja1JlZjogYWx0TWF0Y2ggPyBhbHRNYXRjaFswXSA6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUZpbGVQYXRoOiBtZEZpbGUucGF0aCxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICBsaW5rTWF0Y2hlcy5wdXNoKGxpbmtNYXRjaCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGlua01hdGNoZXM7XHJcbn07XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBDT05WRVJURVJTIC0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG4vLyAtLT4gQ29udmVydHMgc2luZ2xlIGZpbGUgdG8gcHJvdmlkZWQgZmluYWwgZm9ybWF0IGFuZCBzYXZlIGJhY2sgaW4gdGhlIGZpbGVcclxuZXhwb3J0IGNvbnN0IGNvbnZlcnRMaW5rc0FuZFNhdmVJblNpbmdsZUZpbGUgPSBhc3luYyAobWRGaWxlOiBURmlsZSwgcGx1Z2luOiBMaW5rQ29udmVydGVyUGx1Z2luLCBmaW5hbEZvcm1hdDogJ21hcmtkb3duJyB8ICd3aWtpJykgPT4ge1xyXG4gICAgbGV0IGZpbGVUZXh0ID0gYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5yZWFkKG1kRmlsZSk7XHJcbiAgICBsZXQgbmV3RmlsZVRleHQgPVxyXG4gICAgICAgIGZpbmFsRm9ybWF0ID09PSAnbWFya2Rvd24nID8gYXdhaXQgY29udmVydFdpa2lMaW5rc1RvTWFya2Rvd24oZmlsZVRleHQsIG1kRmlsZSwgcGx1Z2luKSA6IGF3YWl0IGNvbnZlcnRNYXJrZG93bkxpbmtzVG9XaWtpTGlua3MoZmlsZVRleHQsIG1kRmlsZSwgcGx1Z2luKTtcclxuICAgIGxldCBmaWxlU3RhdCA9IHBsdWdpbi5zZXR0aW5ncy5rZWVwTXRpbWUgPyBhd2FpdCBwbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIuc3RhdChub3JtYWxpemVQYXRoKG1kRmlsZS5wYXRoKSkgOiB7fTtcclxuICAgIGF3YWl0IHBsdWdpbi5hcHAudmF1bHQubW9kaWZ5KG1kRmlsZSwgbmV3RmlsZVRleHQsIGZpbGVTdGF0KTtcclxufTtcclxuXHJcbi8vIC0tPiBDb21tYW5kIEZ1bmN0aW9uOiBDb252ZXJ0cyBBbGwgTGlua3MgYW5kIFNhdmVzIGluIEN1cnJlbnQgQWN0aXZlIEZpbGVcclxuZXhwb3J0IGNvbnN0IGNvbnZlcnRMaW5rc0luQWN0aXZlRmlsZSA9IGFzeW5jIChwbHVnaW46IExpbmtDb252ZXJ0ZXJQbHVnaW4sIGZpbmFsRm9ybWF0OiAnbWFya2Rvd24nIHwgJ3dpa2knKSA9PiB7XHJcbiAgICBsZXQgbWRGaWxlOiBURmlsZSA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcclxuICAgIGlmIChtZEZpbGUuZXh0ZW5zaW9uID09PSAnbWQnKSB7XHJcbiAgICAgICAgYXdhaXQgY29udmVydExpbmtzQW5kU2F2ZUluU2luZ2xlRmlsZShtZEZpbGUsIHBsdWdpbiwgZmluYWxGb3JtYXQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBuZXcgTm90aWNlKCdBY3RpdmUgRmlsZSBpcyBub3QgYSBNYXJrZG93biBGaWxlJyk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vLyAtLT4gQ29udmVydCBMaW5rcyB1bmRlciBGaWxlcyB1bmRlciBhIENlcnRhaW4gRm9sZGVyXHJcbmV4cG9ydCBjb25zdCBjb252ZXJ0TGlua3NVbmRlckZvbGRlciA9IGFzeW5jIChmb2xkZXI6IFRGb2xkZXIsIHBsdWdpbjogTGlua0NvbnZlcnRlclBsdWdpbiwgZmluYWxGb3JtYXQ6ICdtYXJrZG93bicgfCAnd2lraScpID0+IHtcclxuICAgIGxldCBtZEZpbGVzOiBURmlsZVtdID0gZ2V0RmlsZXNVbmRlclBhdGgoZm9sZGVyLnBhdGgsIHBsdWdpbik7XHJcbiAgICBsZXQgbm90aWNlID0gbmV3IE5vdGljZSgnU3RhcnRpbmcgbGluayBjb252ZXJzaW9uJywgMCk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCB0b3RhbENvdW50ID0gbWRGaWxlcy5sZW5ndGg7XHJcbiAgICAgICAgbGV0IGNvdW50ZXIgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IG1kRmlsZSBvZiBtZEZpbGVzKSB7XHJcbiAgICAgICAgICAgIGNvdW50ZXIrKztcclxuICAgICAgICAgICAgbm90aWNlLnNldE1lc3NhZ2UoYENvbnZlcnRpbmcgdGhlIGxpbmtzIGluIG5vdGVzICR7Y291bnRlcn0vJHt0b3RhbENvdW50fS5gKTtcclxuICAgICAgICAgICAgLy8gLS0+IFNraXAgRXhjYWxpZHJhdyBhbmQgS2FuYmFuIEZpbGVzXHJcbiAgICAgICAgICAgIGlmIChoYXNGcm9udG1hdHRlcihwbHVnaW4uYXBwLCBtZEZpbGUucGF0aCwgJ2V4Y2FsaWRyYXctcGx1Z2luJykgfHwgaGFzRnJvbnRtYXR0ZXIocGx1Z2luLmFwcCwgbWRGaWxlLnBhdGgsICdrYW5iYW4tcGx1Z2luJykpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF3YWl0IGNvbnZlcnRMaW5rc0FuZFNhdmVJblNpbmdsZUZpbGUobWRGaWxlLCBwbHVnaW4sIGZpbmFsRm9ybWF0KTtcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSBmaW5hbGx5IHtcclxuICAgICAgICBub3RpY2UuaGlkZSgpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLy8gLS0+IENvbnZlcnQgTGlua3Mgd2l0aGluIGVkaXRvciBTZWxlY3Rpb25cclxuZXhwb3J0IGNvbnN0IGNvbnZlcnRMaW5rc1dpdGhpblNlbGVjdGlvbiA9IGFzeW5jIChmaW5hbEZvcm1hdDogJ21hcmtkb3duJyB8ICd3aWtpJywgcGx1Z2luOiBMaW5rQ29udmVydGVyUGx1Z2luKSA9PiB7XHJcbiAgICBsZXQgYWN0aXZlTGVhZiA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcclxuICAgIGlmIChhY3RpdmVMZWFmKSB7XHJcbiAgICAgICAgbGV0IGVkaXRvciA9IGFjdGl2ZUxlYWYuZWRpdG9yO1xyXG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSBlZGl0b3IuZ2V0U2VsZWN0aW9uKCk7XHJcbiAgICAgICAgbGV0IHNvdXJjZUZpbGUgPSBhY3RpdmVMZWFmLmZpbGU7XHJcbiAgICAgICAgaWYgKHNlbGVjdGlvbiAhPT0gJycpIHtcclxuICAgICAgICAgICAgbGV0IG5ld1RleHQ6IHN0cmluZztcclxuICAgICAgICAgICAgaWYgKGZpbmFsRm9ybWF0ID09PSAnbWFya2Rvd24nKSB7XHJcbiAgICAgICAgICAgICAgICBuZXdUZXh0ID0gYXdhaXQgY29udmVydFdpa2lMaW5rc1RvTWFya2Rvd24oc2VsZWN0aW9uLCBzb3VyY2VGaWxlLCBwbHVnaW4pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGZpbmFsRm9ybWF0ID09PSAnd2lraScpIHtcclxuICAgICAgICAgICAgICAgIG5ld1RleHQgPSBhd2FpdCBjb252ZXJ0TWFya2Rvd25MaW5rc1RvV2lraUxpbmtzKHNlbGVjdGlvbiwgc291cmNlRmlsZSwgcGx1Z2luKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlZGl0b3IucmVwbGFjZVNlbGVjdGlvbihuZXdUZXh0KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuZXcgTm90aWNlKFwiWW91IGRpZG4ndCBzZWxlY3QgYW55IHRleHQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbmV3IE5vdGljZSgnVGhlcmUgaXMgbm8gYWN0aXZlIGxlYWYgb3Blbi4nLCAzMDAwKTtcclxuICAgIH1cclxufTtcclxuXHJcbi8vIC0tPiBDb21tYW5kIEZ1bmN0aW9uOiBDb252ZXJ0cyBBbGwgTGlua3MgaW4gQWxsIEZpbGVzIGluIFZhdWx0IGFuZCBTYXZlIGluIENvcnJlc3BvbmRpbmcgRmlsZXNcclxuZXhwb3J0IGNvbnN0IGNvbnZlcnRMaW5rc0luVmF1bHQgPSBhc3luYyAocGx1Z2luOiBMaW5rQ29udmVydGVyUGx1Z2luLCBmaW5hbEZvcm1hdDogJ21hcmtkb3duJyB8ICd3aWtpJykgPT4ge1xyXG4gICAgY29udmVydExpbmtzVW5kZXJGb2xkZXIocGx1Z2luLmFwcC52YXVsdC5nZXRSb290KCksIHBsdWdpbiwgZmluYWxGb3JtYXQpO1xyXG59O1xyXG5cclxuY29uc3QgaGFzRnJvbnRtYXR0ZXIgPSAoYXBwOiBBcHAsIGZpbGVQYXRoOiBzdHJpbmcsIGtleVRvQ2hlY2s6IHN0cmluZykgPT4ge1xyXG4gICAgbGV0IG1ldGFDYWNoZSA9IGFwcC5tZXRhZGF0YUNhY2hlLmdldENhY2hlKGZpbGVQYXRoKTtcclxuICAgIHJldHVybiBtZXRhQ2FjaGUuZnJvbnRtYXR0ZXIgJiYgbWV0YUNhY2hlLmZyb250bWF0dGVyW2tleVRvQ2hlY2tdO1xyXG59O1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0gTElOS1MgVE8gTUFSS0RPV04gQ09OVkVSVEVSIC0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG4vLyAtLT4gQ29udmVydHMgbGlua3Mgd2l0aGluIGdpdmVuIHN0cmluZyBmcm9tIFdpa2kgdG8gTURcclxuZXhwb3J0IGNvbnN0IGNvbnZlcnRXaWtpTGlua3NUb01hcmtkb3duID0gYXN5bmMgKG1kOiBzdHJpbmcsIHNvdXJjZUZpbGU6IFRGaWxlLCBwbHVnaW46IExpbmtDb252ZXJ0ZXJQbHVnaW4pOiBQcm9taXNlPHN0cmluZz4gPT4ge1xyXG4gICAgbGV0IG5ld01kVGV4dCA9IG1kO1xyXG4gICAgbGV0IGxpbmtNYXRjaGVzOiBMaW5rTWF0Y2hbXSA9IGF3YWl0IGdldEFsbExpbmtNYXRjaGVzSW5GaWxlKHNvdXJjZUZpbGUsIHBsdWdpbik7XHJcbiAgICAvLyAtLT4gQ29udmVydCBXaWtpIEludGVybmFsIExpbmtzIHRvIE1hcmtkb3duIExpbmtcclxuICAgIGxldCB3aWtpTWF0Y2hlcyA9IGxpbmtNYXRjaGVzLmZpbHRlcigobWF0Y2gpID0+IG1hdGNoLnR5cGUgPT09ICd3aWtpJyk7XHJcbiAgICBmb3IgKGxldCB3aWtpTWF0Y2ggb2Ygd2lraU1hdGNoZXMpIHtcclxuICAgICAgICBsZXQgbWRMaW5rID0gY3JlYXRlTGluaygnbWFya2Rvd24nLCB3aWtpTWF0Y2gubGlua1RleHQsIHdpa2lNYXRjaC5hbHRPckJsb2NrUmVmLCBzb3VyY2VGaWxlLCBwbHVnaW4pO1xyXG4gICAgICAgIG5ld01kVGV4dCA9IG5ld01kVGV4dC5yZXBsYWNlKHdpa2lNYXRjaC5tYXRjaCwgbWRMaW5rKTtcclxuICAgIH1cclxuICAgIC8vIC0tPiBDb252ZXJ0IFdpa2kgVHJhbnNjbHVzaW9uIExpbmtzIHRvIE1hcmtkb3duIFRyYW5zY2x1c2lvblxyXG4gICAgbGV0IHdpa2lUcmFuc2NsdXNpb25zID0gbGlua01hdGNoZXMuZmlsdGVyKChtYXRjaCkgPT4gbWF0Y2gudHlwZSA9PT0gJ3dpa2lUcmFuc2NsdXNpb24nKTtcclxuICAgIGZvciAobGV0IHdpa2lUcmFuc2NsdXNpb24gb2Ygd2lraVRyYW5zY2x1c2lvbnMpIHtcclxuICAgICAgICBsZXQgd2lraVRyYW5zY2x1c2lvbkxpbmsgPSBjcmVhdGVMaW5rKCdtZFRyYW5zY2x1c2lvbicsIHdpa2lUcmFuc2NsdXNpb24ubGlua1RleHQsIHdpa2lUcmFuc2NsdXNpb24uYWx0T3JCbG9ja1JlZiwgc291cmNlRmlsZSwgcGx1Z2luKTtcclxuICAgICAgICBuZXdNZFRleHQgPSBuZXdNZFRleHQucmVwbGFjZSh3aWtpVHJhbnNjbHVzaW9uLm1hdGNoLCB3aWtpVHJhbnNjbHVzaW9uTGluayk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3TWRUZXh0O1xyXG59O1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0gTElOS1MgVE8gV0lLSSBDT05WRVJURVIgLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cclxuXHJcbi8vIC0tPiBDb252ZXJ0cyBsaW5rcyB3aXRoaW4gZ2l2ZW4gc3RyaW5nIGZyb20gTUQgdG8gV2lraVxyXG5jb25zdCBjb252ZXJ0TWFya2Rvd25MaW5rc1RvV2lraUxpbmtzID0gYXN5bmMgKG1kOiBzdHJpbmcsIHNvdXJjZUZpbGU6IFRGaWxlLCBwbHVnaW46IExpbmtDb252ZXJ0ZXJQbHVnaW4pOiBQcm9taXNlPHN0cmluZz4gPT4ge1xyXG4gICAgbGV0IG5ld01kVGV4dCA9IG1kO1xyXG4gICAgbGV0IGxpbmtNYXRjaGVzOiBMaW5rTWF0Y2hbXSA9IGF3YWl0IGdldEFsbExpbmtNYXRjaGVzSW5GaWxlKHNvdXJjZUZpbGUsIHBsdWdpbik7XHJcbiAgICAvLyAtLT4gQ29udmVydCBNYXJrZG93biBJbnRlcm5hbCBMaW5rcyB0byBXaWtpTGlua1xyXG4gICAgbGV0IG1hcmtkb3duTWF0Y2hlcyA9IGxpbmtNYXRjaGVzLmZpbHRlcigobWF0Y2gpID0+IG1hdGNoLnR5cGUgPT09ICdtYXJrZG93bicpO1xyXG4gICAgZm9yIChsZXQgbWFya2Rvd25NYXRjaCBvZiBtYXJrZG93bk1hdGNoZXMpIHtcclxuICAgICAgICBsZXQgd2lraUxpbmsgPSBjcmVhdGVMaW5rKCd3aWtpJywgbWFya2Rvd25NYXRjaC5saW5rVGV4dCwgbWFya2Rvd25NYXRjaC5hbHRPckJsb2NrUmVmLCBzb3VyY2VGaWxlLCBwbHVnaW4pO1xyXG4gICAgICAgIG5ld01kVGV4dCA9IG5ld01kVGV4dC5yZXBsYWNlKG1hcmtkb3duTWF0Y2gubWF0Y2gsIHdpa2lMaW5rKTtcclxuICAgIH1cclxuICAgIC8vIC0tPiBDb252ZXJ0IE1hcmtkb3duIFRyYW5zY2x1c2lvbiBMaW5rcyB0byBXaWtpTGluayBUcmFuc2NsdXNpb25cclxuICAgIGxldCBtZFRyYW5zY2x1c2lvbnMgPSBsaW5rTWF0Y2hlcy5maWx0ZXIoKG1hdGNoKSA9PiBtYXRjaC50eXBlID09PSAnbWRUcmFuc2NsdXNpb24nKTtcclxuICAgIGZvciAobGV0IG1kVHJhbnNjbHVzaW9uIG9mIG1kVHJhbnNjbHVzaW9ucykge1xyXG4gICAgICAgIGxldCB3aWtpVHJhbnNjbHVzaW9uTGluayA9IGNyZWF0ZUxpbmsoJ3dpa2lUcmFuc2NsdXNpb24nLCBtZFRyYW5zY2x1c2lvbi5saW5rVGV4dCwgbWRUcmFuc2NsdXNpb24uYWx0T3JCbG9ja1JlZiwgc291cmNlRmlsZSwgcGx1Z2luKTtcclxuICAgICAgICBuZXdNZFRleHQgPSBuZXdNZFRleHQucmVwbGFjZShtZFRyYW5zY2x1c2lvbi5tYXRjaCwgd2lraVRyYW5zY2x1c2lvbkxpbmspO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ld01kVGV4dDtcclxufTtcclxuXHJcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tIExJTktTIFRPIFJFTEFUSVZFL0FCU09MVVRFL1NIT1JURVNUIC0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG5leHBvcnQgY29uc3QgY29udmVydExpbmtzSW5GaWxlVG9QcmVmZXJyZWRGb3JtYXQgPSBhc3luYyAobWRGaWxlOiBURmlsZSwgcGx1Z2luOiBMaW5rQ29udmVydGVyUGx1Z2luLCBmaW5hbEZvcm1hdDogRmluYWxGb3JtYXQpID0+IHtcclxuICAgIGxldCBmaWxlVGV4dCA9IGF3YWl0IHBsdWdpbi5hcHAudmF1bHQucmVhZChtZEZpbGUpO1xyXG4gICAgbGV0IGxpbmtNYXRjaGVzOiBMaW5rTWF0Y2hbXSA9IGF3YWl0IGdldEFsbExpbmtNYXRjaGVzSW5GaWxlKG1kRmlsZSwgcGx1Z2luKTtcclxuICAgIGZvciAobGV0IGxpbmtNYXRjaCBvZiBsaW5rTWF0Y2hlcykge1xyXG4gICAgICAgIGxldCBmaWxlTGluayA9IGRlY29kZVVSSShsaW5rTWF0Y2gubGlua1RleHQpO1xyXG4gICAgICAgIGxldCBmaWxlID0gcGx1Z2luLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpcnN0TGlua3BhdGhEZXN0KGZpbGVMaW5rLCBsaW5rTWF0Y2guc291cmNlRmlsZVBhdGgpO1xyXG4gICAgICAgIGlmIChmaWxlKSB7XHJcbiAgICAgICAgICAgIGZpbGVMaW5rID0gZ2V0RmlsZUxpbmtJbkZvcm1hdChmaWxlLCBtZEZpbGUsIHBsdWdpbiwgZmluYWxGb3JtYXQpO1xyXG4gICAgICAgICAgICBmaWxlVGV4dCA9IGZpbGVUZXh0LnJlcGxhY2UobGlua01hdGNoLm1hdGNoLCBjcmVhdGVMaW5rKGxpbmtNYXRjaC50eXBlLCBmaWxlTGluaywgbGlua01hdGNoLmFsdE9yQmxvY2tSZWYsIG1kRmlsZSwgcGx1Z2luKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgbGV0IGZpbGVTdGF0ID0gcGx1Z2luLnNldHRpbmdzLmtlZXBNdGltZSA/IGF3YWl0IHBsdWdpbi5hcHAudmF1bHQuYWRhcHRlci5zdGF0KG5vcm1hbGl6ZVBhdGgobWRGaWxlLnBhdGgpKSA6IHt9O1xyXG4gICAgYXdhaXQgcGx1Z2luLmFwcC52YXVsdC5tb2RpZnkobWRGaWxlLCBmaWxlVGV4dCwgZmlsZVN0YXQpO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0RmlsZUxpbmtJbkZvcm1hdCA9IChmaWxlOiBURmlsZSwgc291cmNlRmlsZTogVEZpbGUsIHBsdWdpbjogTGlua0NvbnZlcnRlclBsdWdpbiwgZmluYWxGb3JtYXQ6IEZpbmFsRm9ybWF0KTogc3RyaW5nID0+IHtcclxuICAgIGxldCBmaWxlTGluazogc3RyaW5nO1xyXG4gICAgaWYgKGZpbmFsRm9ybWF0ID09PSAnYWJzb2x1dGUtcGF0aCcpIHtcclxuICAgICAgICBmaWxlTGluayA9IGZpbGUucGF0aDtcclxuICAgIH0gZWxzZSBpZiAoZmluYWxGb3JtYXQgPT09ICdyZWxhdGl2ZS1wYXRoJykge1xyXG4gICAgICAgIGZpbGVMaW5rID0gZ2V0UmVsYXRpdmVMaW5rKHNvdXJjZUZpbGUucGF0aCwgZmlsZS5wYXRoKTtcclxuICAgIH0gZWxzZSBpZiAoZmluYWxGb3JtYXQgPT09ICdzaG9ydGVzdC1wYXRoJykge1xyXG4gICAgICAgIGxldCBhbGxGaWxlc0luVmF1bHQgPSBwbHVnaW4uYXBwLnZhdWx0LmdldEZpbGVzKCk7XHJcbiAgICAgICAgbGV0IGZpbGVzV2l0aFNhbWVOYW1lID0gYWxsRmlsZXNJblZhdWx0LmZpbHRlcigoZikgPT4gZi5uYW1lID09PSBmaWxlLm5hbWUpO1xyXG4gICAgICAgIGlmIChmaWxlc1dpdGhTYW1lTmFtZS5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIGZpbGVMaW5rID0gZmlsZS5wYXRoO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZpbGVMaW5rID0gZmlsZS5uYW1lO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChmaWxlTGluay5lbmRzV2l0aCgnLm1kJykpIGZpbGVMaW5rID0gZmlsZUxpbmsucmVwbGFjZSgnLm1kJywgJycpO1xyXG4gICAgcmV0dXJuIGZpbGVMaW5rO1xyXG59O1xyXG5cclxuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0gSEVMUEVSUyAtLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xyXG5cclxuY29uc3QgY3JlYXRlTGluayA9IChkZXN0OiBMaW5rVHlwZSwgb3JpZ2luYWxMaW5rOiBzdHJpbmcsIGFsdE9yQmxvY2tSZWY6IHN0cmluZywgc291cmNlRmlsZTogVEZpbGUsIHBsdWdpbjogTGlua0NvbnZlcnRlclBsdWdpbik6IHN0cmluZyA9PiB7XHJcbiAgICBsZXQgZmluYWxMaW5rID0gb3JpZ2luYWxMaW5rO1xyXG4gICAgbGV0IGFsdFRleHQ6IHN0cmluZztcclxuXHJcbiAgICBsZXQgZmlsZUxpbmsgPSBkZWNvZGVVUkkoZmluYWxMaW5rKTtcclxuICAgIGxldCBmaWxlID0gcGx1Z2luLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpcnN0TGlua3BhdGhEZXN0KGZpbGVMaW5rLCBzb3VyY2VGaWxlLnBhdGgpO1xyXG4gICAgaWYgKGZpbGUgJiYgcGx1Z2luLnNldHRpbmdzLmZpbmFsTGlua0Zvcm1hdCAhPT0gJ25vdC1jaGFuZ2UnKSBmaW5hbExpbmsgPSBnZXRGaWxlTGlua0luRm9ybWF0KGZpbGUsIHNvdXJjZUZpbGUsIHBsdWdpbiwgcGx1Z2luLnNldHRpbmdzLmZpbmFsTGlua0Zvcm1hdCk7XHJcblxyXG4gICAgLy8gSWYgZmluYWwgbGluayBpcyBpbiBtYXJrZG93biBmb3JtYXQgYW5kIHRoZSBmaWxlIGlzIG1kLCB0aGUgZXh0ZW5zaW9uIHNob3VsZCBiZSBpbmNsdWRlZFxyXG4gICAgY29uc3QgZmlsZUV4dGVuc2lvbiA9IGZpbGUgJiYgZmlsZS5leHRlbnNpb24gPT09ICdtZCcgPyBgLiR7ZmlsZS5leHRlbnNpb259YCA6ICcnO1xyXG5cclxuICAgIGlmIChkZXN0ID09PSAnd2lraScpIHtcclxuICAgICAgICAvLyBJZiBhbHQgdGV4dCBpcyBzYW1lIGFzIHRoZSBmaW5hbCBsaW5rIG9yIHNhbWUgYXMgZmlsZSBiYXNlIG5hbWUsIGl0IG5lZWRzIHRvIGJlIGVtcHR5XHJcbiAgICAgICAgaWYgKGFsdE9yQmxvY2tSZWYgIT09ICcnICYmIGFsdE9yQmxvY2tSZWYgIT09IGRlY29kZVVSSShmaW5hbExpbmspKSB7XHJcbiAgICAgICAgICAgIGlmIChmaWxlICYmIGRlY29kZVVSSShhbHRPckJsb2NrUmVmKSA9PT0gZmlsZS5iYXNlbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgYWx0VGV4dCA9ICcnO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYWx0VGV4dCA9ICd8JyArIGFsdE9yQmxvY2tSZWY7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhbHRUZXh0ID0gJyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgW1ske2RlY29kZVVSSShmaW5hbExpbmspfSR7YWx0VGV4dH1dXWA7XHJcbiAgICB9IGVsc2UgaWYgKGRlc3QgPT09ICdtYXJrZG93bicpIHtcclxuICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBhbHQgdGV4dCBzcGVjaWZpZWMgYW5kIGZpbGUgZXhpc3RzLCB0aGUgYWx0IHRleHQgbmVlZHMgdG8gYmUgYWx3YXlzIHRoZSBmaWxlIGJhc2UgbmFtZVxyXG4gICAgICAgIGlmIChhbHRPckJsb2NrUmVmICE9PSAnJykge1xyXG4gICAgICAgICAgICBhbHRUZXh0ID0gYWx0T3JCbG9ja1JlZjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhbHRUZXh0ID0gZmlsZSA/IGZpbGUuYmFzZW5hbWUgOiBmaW5hbExpbms7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBgWyR7YWx0VGV4dH1dKCR7Y3VzdG9tRW5jb2RlVVJJKGZpbmFsTGluayl9JHtmaWxlRXh0ZW5zaW9ufSlgO1xyXG4gICAgfSBlbHNlIGlmIChkZXN0ID09PSAnd2lraVRyYW5zY2x1c2lvbicpIHtcclxuICAgICAgICByZXR1cm4gYFtbJHtkZWNvZGVVUkkoZmluYWxMaW5rKX0jJHtkZWNvZGVVUkkoYWx0T3JCbG9ja1JlZil9XV1gO1xyXG4gICAgfSBlbHNlIGlmIChkZXN0ID09PSAnbWRUcmFuc2NsdXNpb24nKSB7XHJcbiAgICAgICAgLy8gLS0+IFRvIHNraXAgZW5jb2RpbmcgXlxyXG4gICAgICAgIGxldCBlbmNvZGVkQmxvY2tSZWYgPSBhbHRPckJsb2NrUmVmO1xyXG4gICAgICAgIGlmIChhbHRPckJsb2NrUmVmLnN0YXJ0c1dpdGgoJ14nKSkge1xyXG4gICAgICAgICAgICBlbmNvZGVkQmxvY2tSZWYgPSBjdXN0b21FbmNvZGVVUkkoZW5jb2RlZEJsb2NrUmVmLnNsaWNlKDEpKTtcclxuICAgICAgICAgICAgZW5jb2RlZEJsb2NrUmVmID0gYF4ke2VuY29kZWRCbG9ja1JlZn1gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVuY29kZWRCbG9ja1JlZiA9IGN1c3RvbUVuY29kZVVSSShlbmNvZGVkQmxvY2tSZWYpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYFtdKCR7Y3VzdG9tRW5jb2RlVVJJKGZpbmFsTGluayl9JHtmaWxlRXh0ZW5zaW9ufSMke2VuY29kZWRCbG9ja1JlZn0pYDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gJyc7XHJcbn07XHJcblxyXG4vKipcclxuICogRW5jb2RlIFVSSSB0aGUgc2FtZSB3YXkgT2JzaWRpYW4gaXMgZG9pbmcgaXQgaW50ZXJuYWxseVxyXG4gKiBcclxuICogQHBhcmFtIHVyaSBcclxuICogQHJldHVybnMgXHJcbiAqL1xyXG5mdW5jdGlvbiBjdXN0b21FbmNvZGVVUkkodXJpOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuIHVyaS5yZXBsYWNlKC9bXFxcXFxceDAwXFx4MDhcXHgwQlxceDBDXFx4MEUtXFx4MUYgXS9nLCB1cmxQYXJ0ID0+IGVuY29kZVVSSUNvbXBvbmVudCh1cmxQYXJ0KSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gc291cmNlRmlsZVBhdGggUGF0aCBvZiB0aGUgZmlsZSwgaW4gd2hpY2ggdGhlIGxpbmtzIGFyZSBnb2luZyB0byBiZSB1c2VkXHJcbiAqIEBwYXJhbSBsaW5rZWRGaWxlUGF0aCBGaWxlIHBhdGgsIHdoaWNoIHdpbGwgYmUgcmVmZXJyZWQgaW4gdGhlIHNvdXJjZSBmaWxlXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRSZWxhdGl2ZUxpbmsoc291cmNlRmlsZVBhdGg6IHN0cmluZywgbGlua2VkRmlsZVBhdGg6IHN0cmluZykge1xyXG4gICAgZnVuY3Rpb24gdHJpbShhcnI6IHN0cmluZ1tdKSB7XHJcbiAgICAgICAgbGV0IHN0YXJ0ID0gMDtcclxuICAgICAgICBmb3IgKDsgc3RhcnQgPCBhcnIubGVuZ3RoOyBzdGFydCsrKSB7XHJcbiAgICAgICAgICAgIGlmIChhcnJbc3RhcnRdICE9PSAnJykgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgZW5kID0gYXJyLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgZm9yICg7IGVuZCA+PSAwOyBlbmQtLSkge1xyXG4gICAgICAgICAgICBpZiAoYXJyW2VuZF0gIT09ICcnKSBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzdGFydCA+IGVuZCkgcmV0dXJuIFtdO1xyXG4gICAgICAgIHJldHVybiBhcnIuc2xpY2Uoc3RhcnQsIGVuZCAtIHN0YXJ0ICsgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGZyb21QYXJ0cyA9IHRyaW0oc291cmNlRmlsZVBhdGguc3BsaXQoJy8nKSk7XHJcbiAgICB2YXIgdG9QYXJ0cyA9IHRyaW0obGlua2VkRmlsZVBhdGguc3BsaXQoJy8nKSk7XHJcblxyXG4gICAgdmFyIGxlbmd0aCA9IE1hdGgubWluKGZyb21QYXJ0cy5sZW5ndGgsIHRvUGFydHMubGVuZ3RoKTtcclxuICAgIHZhciBzYW1lUGFydHNMZW5ndGggPSBsZW5ndGg7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGZyb21QYXJ0c1tpXSAhPT0gdG9QYXJ0c1tpXSkge1xyXG4gICAgICAgICAgICBzYW1lUGFydHNMZW5ndGggPSBpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG91dHB1dFBhcnRzID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gc2FtZVBhcnRzTGVuZ3RoOyBpIDwgZnJvbVBhcnRzLmxlbmd0aCAtIDE7IGkrKykge1xyXG4gICAgICAgIG91dHB1dFBhcnRzLnB1c2goJy4uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgb3V0cHV0UGFydHMgPSBvdXRwdXRQYXJ0cy5jb25jYXQodG9QYXJ0cy5zbGljZShzYW1lUGFydHNMZW5ndGgpKTtcclxuXHJcbiAgICByZXR1cm4gb3V0cHV0UGFydHMuam9pbignLycpO1xyXG59XHJcblxyXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLSBUUkFOU0NMVVNJT05TIC0tLS0tLS0tLS0tLS0tLS0tLS0tICovXHJcblxyXG5jb25zdCB3aWtpVHJhbnNjbHVzaW9uUmVnZXggPSAvXFxbXFxbKC4qPykjLio/XFxdXFxdLztcclxuY29uc3Qgd2lraVRyYW5zY2x1c2lvbkZpbGVOYW1lUmVnZXggPSAvKD88PVxcW1xcWykoLiopKD89IykvO1xyXG5jb25zdCB3aWtpVHJhbnNjbHVzaW9uQmxvY2tSZWYgPSAvKD88PSMpLio/KD89XV0pLztcclxuXHJcbmNvbnN0IG1kVHJhbnNjbHVzaW9uUmVnZXggPSAvXFxbLio/XVxcKCguKj8pIy4qP1xcKS87XHJcbmNvbnN0IG1kVHJhbnNjbHVzaW9uRmlsZU5hbWVSZWdleCA9IC8oPzw9XFxdXFwoKSguKikoPz0jKS87XHJcbmNvbnN0IG1kVHJhbnNjbHVzaW9uQmxvY2tSZWYgPSAvKD88PSMpLio/KD89XFwpKS87XHJcblxyXG5jb25zdCBtYXRjaElzV2lraVRyYW5zY2x1c2lvbiA9IChtYXRjaDogc3RyaW5nKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gd2lraVRyYW5zY2x1c2lvblJlZ2V4LnRlc3QobWF0Y2gpO1xyXG59O1xyXG5cclxuY29uc3QgbWF0Y2hJc01kVHJhbnNjbHVzaW9uID0gKG1hdGNoOiBzdHJpbmcpOiBib29sZWFuID0+IHtcclxuICAgIHJldHVybiBtZFRyYW5zY2x1c2lvblJlZ2V4LnRlc3QobWF0Y2gpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSBtYXRjaFxyXG4gKiBAcmV0dXJucyBmaWxlIG5hbWUgaWYgdGhlcmUgaXMgYSBtYXRjaCBvciBlbXB0eSBzdHJpbmcgaWYgbm8gbWF0Y2hcclxuICovXHJcbmNvbnN0IGdldFRyYW5zY2x1c2lvbkZpbGVOYW1lID0gKG1hdGNoOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xyXG4gICAgbGV0IGlzV2lraSA9IHdpa2lUcmFuc2NsdXNpb25SZWdleC50ZXN0KG1hdGNoKTtcclxuICAgIGxldCBpc01kID0gbWRUcmFuc2NsdXNpb25SZWdleC50ZXN0KG1hdGNoKTtcclxuICAgIGlmIChpc1dpa2kgfHwgaXNNZCkge1xyXG4gICAgICAgIGxldCBmaWxlTmFtZU1hdGNoID0gbWF0Y2gubWF0Y2goaXNXaWtpID8gd2lraVRyYW5zY2x1c2lvbkZpbGVOYW1lUmVnZXggOiBtZFRyYW5zY2x1c2lvbkZpbGVOYW1lUmVnZXgpO1xyXG4gICAgICAgIGlmIChmaWxlTmFtZU1hdGNoKSByZXR1cm4gZmlsZU5hbWVNYXRjaFswXTtcclxuICAgIH1cclxuICAgIHJldHVybiAnJztcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0gbWF0Y2hcclxuICogQHJldHVybnMgYmxvY2sgcmVmIGlmIHRoZXJlIGlzIGEgbWF0Y2ggb3IgZW1wdHkgc3RyaW5nIGlmIG5vIG1hdGNoXHJcbiAqL1xyXG5jb25zdCBnZXRUcmFuc2NsdXNpb25CbG9ja1JlZiA9IChtYXRjaDogc3RyaW5nKSA9PiB7XHJcbiAgICBsZXQgaXNXaWtpID0gd2lraVRyYW5zY2x1c2lvblJlZ2V4LnRlc3QobWF0Y2gpO1xyXG4gICAgbGV0IGlzTWQgPSBtZFRyYW5zY2x1c2lvblJlZ2V4LnRlc3QobWF0Y2gpO1xyXG4gICAgaWYgKGlzV2lraSB8fCBpc01kKSB7XHJcbiAgICAgICAgbGV0IGJsb2NrUmVmTWF0Y2ggPSBtYXRjaC5tYXRjaChpc1dpa2kgPyB3aWtpVHJhbnNjbHVzaW9uQmxvY2tSZWYgOiBtZFRyYW5zY2x1c2lvbkJsb2NrUmVmKTtcclxuICAgICAgICBpZiAoYmxvY2tSZWZNYXRjaCkgcmV0dXJuIGJsb2NrUmVmTWF0Y2hbMF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJyc7XHJcbn07XHJcbiIsImltcG9ydCBMaW5rQ29udmVydGVyUGx1Z2luIGZyb20gJ21haW4nO1xyXG5pbXBvcnQgeyBBcHAsIEZ1enp5U3VnZ2VzdE1vZGFsLCBNb2RhbCwgVEZvbGRlciB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0ICogYXMgQ29udmVydGVyIGZyb20gJy4vY29udmVydGVyJztcclxuXHJcbmV4cG9ydCBjbGFzcyBDb25maXJtYXRpb25Nb2RhbCBleHRlbmRzIE1vZGFsIHtcclxuICAgIGNhbGxiYWNrOiBGdW5jdGlvbjtcclxuICAgIG1lc3NhZ2U6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgbWVzc2FnZTogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24pIHtcclxuICAgICAgICBzdXBlcihhcHApO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xyXG4gICAgfVxyXG5cclxuICAgIG9uT3BlbigpIHtcclxuICAgICAgICBsZXQgeyBjb250ZW50RWwgfSA9IHRoaXM7XHJcblxyXG4gICAgICAgIGxldCBtYWluRGl2ID0gY29udGVudEVsLmNyZWF0ZUVsKCdkaXYnKTtcclxuICAgICAgICBtYWluRGl2LmFkZENsYXNzKCdvei1tb2RhbC1jZW50ZXInKTtcclxuICAgICAgICBtYWluRGl2LmlubmVySFRNTCA9IGBcclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm96LW1vZGFsLXRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICA8aDI+TGluayBDb252ZXJ0ZXIgUGx1Z2luPC9oMj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxwPiR7dGhpcy5tZXNzYWdlfTwvcD5cclxuICAgICAgICBgO1xyXG5cclxuICAgICAgICBsZXQgY29udGludWVCdXR0b24gPSBjb250ZW50RWwuY3JlYXRlRWwoJ2J1dHRvbicsIHsgdGV4dDogJ0NvbnRpbnVlJyB9KTtcclxuICAgICAgICBjb250aW51ZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGNvbnRlbnRFbC5jcmVhdGVFbCgnYnV0dG9uJywgeyB0ZXh0OiAnQ2FuY2VsJyB9KTtcclxuICAgICAgICBjYW5jZWxCdXR0b24uc3R5bGUuY3NzVGV4dCA9ICdmbG9hdDogcmlnaHQ7JztcclxuICAgICAgICBjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLmNsb3NlKCkpO1xyXG4gICAgfVxyXG59XHJcblxyXG50eXBlIEZpbmFsRm9ybWF0ID0gJ21hcmtkb3duJyB8ICd3aWtpJztcclxuXHJcbmV4cG9ydCBjbGFzcyBGb2xkZXJTdWdnZXN0aW9uTW9kYWwgZXh0ZW5kcyBGdXp6eVN1Z2dlc3RNb2RhbDxURm9sZGVyPiB7XHJcbiAgICBhcHA6IEFwcDtcclxuICAgIHBsdWdpbjogTGlua0NvbnZlcnRlclBsdWdpbjtcclxuICAgIGZpbmFsRm9ybWF0OiBGaW5hbEZvcm1hdDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwbHVnaW46IExpbmtDb252ZXJ0ZXJQbHVnaW4sIGZpbmFsRm9ybWF0OiBGaW5hbEZvcm1hdCkge1xyXG4gICAgICAgIHN1cGVyKHBsdWdpbi5hcHApO1xyXG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG4gICAgICAgIHRoaXMuZmluYWxGb3JtYXQgPSBmaW5hbEZvcm1hdDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRJdGVtVGV4dChpdGVtOiBURm9sZGVyKTogc3RyaW5nIHtcclxuICAgICAgICByZXR1cm4gaXRlbS5wYXRoO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEl0ZW1zKCk6IFRGb2xkZXJbXSB7XHJcbiAgICAgICAgcmV0dXJuIGdldEFsbEZvbGRlcnNJblZhdWx0KHRoaXMuYXBwKTtcclxuICAgIH1cclxuXHJcbiAgICBvbkNob29zZUl0ZW0oZm9sZGVyOiBURm9sZGVyLCBldnQ6IE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50KSB7XHJcbiAgICAgICAgbGV0IGluZm9UZXh0ID0gYEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjb252ZXJ0IGFsbCBcclxuICAgICAgICAgICAgJHt0aGlzLmZpbmFsRm9ybWF0ID09PSAnd2lraScgPyAnTWFya2Rvd24gTGlua3MgdG8gV2lraWxpbmtzJyA6ICdXaWtpbGlua3MgdG8gTWFya2Rvd24gTGlua3MnfSBcclxuICAgICAgICAgICAgdW5kZXIgJHtmb2xkZXIubmFtZX0/YDtcclxuICAgICAgICBsZXQgbW9kYWwgPSBuZXcgQ29uZmlybWF0aW9uTW9kYWwodGhpcy5hcHAsIGluZm9UZXh0LCAoKSA9PiBDb252ZXJ0ZXIuY29udmVydExpbmtzVW5kZXJGb2xkZXIoZm9sZGVyLCB0aGlzLnBsdWdpbiwgdGhpcy5maW5hbEZvcm1hdCkpO1xyXG4gICAgICAgIG1vZGFsLm9wZW4oKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QWxsRm9sZGVyc0luVmF1bHQoYXBwOiBBcHApOiBURm9sZGVyW10ge1xyXG4gICAgbGV0IGZvbGRlcnM6IFRGb2xkZXJbXSA9IFtdO1xyXG4gICAgbGV0IHJvb3RGb2xkZXIgPSBhcHAudmF1bHQuZ2V0Um9vdCgpO1xyXG4gICAgZm9sZGVycy5wdXNoKHJvb3RGb2xkZXIpO1xyXG4gICAgZnVuY3Rpb24gcmVjdXJzaXZlRngoZm9sZGVyOiBURm9sZGVyKSB7XHJcbiAgICAgICAgZm9yIChsZXQgY2hpbGQgb2YgZm9sZGVyLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcclxuICAgICAgICAgICAgICAgIGxldCBjaGlsZEZvbGRlcjogVEZvbGRlciA9IGNoaWxkIGFzIFRGb2xkZXI7XHJcbiAgICAgICAgICAgICAgICBmb2xkZXJzLnB1c2goY2hpbGRGb2xkZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkRm9sZGVyLmNoaWxkcmVuKSByZWN1cnNpdmVGeChjaGlsZEZvbGRlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZWN1cnNpdmVGeChyb290Rm9sZGVyKTtcclxuICAgIHJldHVybiBmb2xkZXJzO1xyXG59XHJcbiIsIi8vIEljb25zIGZyb20gaHR0cHM6Ly9jb3B5aWNvbi5jb20vIGFuZCBodHRwczovL2ljb25zdmcueHl6L1xyXG5leHBvcnQgY29uc3QgQlJBQ0tFVF9JQ09OID0gYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMTAwIDEwMFwiPjxwYXRoIGQ9XCJNIDIzLjEzNjcxOSAxNSBDIDIxLjg3ODA1MiAxNSAyMC43MDA5OTUgMTUuMzI3NDkgMTkuNzAxMTcyIDE1Ljk4MjQyMiBDIDE4LjY1MjEwOSAxNi42NzA0NzYgMTggMTcuNzk1NTE5IDE4IDE5LjAxNTYyNSBMIDE4IDgwLjk4NDM3NSBDIDE4IDgyLjIwNTE1MiAxOC42NTM5NDIgODMuMzMwNzAzIDE5LjcwMzEyNSA4NC4wMTc1NzggQyAyMC43MDI1ODIgODQuNjczMDI4IDIxLjg3NzgzNCA4NSAyMy4xMzY3MTkgODUgTCAzNy45ODQzNzUgODUgQyAzOS4xOTQzMTQgODUgNDAuMzE1MjQ0IDg0LjM3NDYxMSA0MS4wMDc4MTIgODMuMzUzNTE2IEMgNDEuNjY1Mjk4IDgyLjM4NDY5IDQyIDgxLjI0NDU1NyA0MiA4MC4wMzUxNTYgQyA0MiA3OC43MTk5MDkgNDEuNjU1OTkzIDc3LjUxMjg0IDQwLjk1MzEyNSA3Ni41MjUzOTEgQSAxLjAwMDEgMS4wMDAxIDAgMCAwIDQwLjk1MTE3MiA3Ni41MjM0MzggQyA0MC4yMTUyMjcgNzUuNDk2MTYxIDM5LjA3OTE2NyA3NSAzNy45ODQzNzUgNzUgTCAyOSA3NSBMIDI5IDI1IEwgMzcuOTg0Mzc1IDI1IEMgMzkuMDc4Mzk0IDI1IDQwLjIxNzAxNSAyNC41MDUzMjggNDAuOTUzMTI1IDIzLjQ3NjU2MiBBIDEuMDAwMSAxLjAwMDEgMCAwIDAgNDAuOTUzMTI1IDIzLjQ3NDYwOSBDIDQxLjY1NjIwMSAyMi40ODgxNDEgNDIgMjEuMjgxOCA0MiAxOS45NjQ4NDQgQyA0MiAxOC43NTM5OTggNDEuNjY2Njk4IDE3LjYxNDI4OSA0MS4wMDk3NjYgMTYuNjQ0NTMxIEEgMS4wMDAxIDEuMDAwMSAwIDAgMCA0MS4wMDc4MTIgMTYuNjQyNTc4IEMgNDAuMzE0MzUyIDE1LjYyMzI4NCAzOS4xOTIzNjEgMTUgMzcuOTgyNDIyIDE1IEwgMjMuMTM2NzE5IDE1IHogTSA2Mi4wMTU2MjUgMTUgQyA2MC44MDU2ODYgMTUgNTkuNjg0NzU2IDE1LjYyNTM4OSA1OC45OTIxODggMTYuNjQ2NDg0IEMgNTguMzM0NjQ4IDE3LjYxNTkzNCA1OCAxOC43NTQ4MjggNTggMTkuOTY0ODQ0IEMgNTggMjEuMjgwOTQ2IDU4LjM0MzU3MSAyMi40ODc3NzUgNTkuMDQ2ODc1IDIzLjQ3NDYwOSBBIDEuMDAwMSAxLjAwMDEgMCAwIDAgNTkuMDQ2ODc1IDIzLjQ3NjU2MiBDIDU5Ljc4Mjk4NSAyNC41MDUyODEgNjAuOTIxNjA2IDI1IDYyLjAxNTYyNSAyNSBMIDcxIDI1IEwgNzEgNzUgTCA2Mi4wMTU2MjUgNzUgQyA2MC45MjA4MzMgNzUgNTkuNzg0ODIgNzUuNDk2MTE1IDU5LjA0ODgyOCA3Ni41MjM0MzggQSAxLjAwMDEgMS4wMDAxIDAgMCAwIDU5LjA0Njg3NSA3Ni41MjUzOTEgQyA1OC4zNDQyODEgNzcuNTEyNDc0IDU4IDc4LjcxOTA1NCA1OCA4MC4wMzUxNTYgQyA1OCA4MS4yNDYwMDIgNTguMzMzNDYgODIuMzg2NTc3IDU4Ljk5MDIzNCA4My4zNTU0NjkgQSAxLjAwMDEgMS4wMDAxIDAgMCAwIDU4Ljk5MDIzNCA4My4zNTc0MjIgQyA1OS42ODM3NDIgODQuMzc2NzE2IDYwLjgwNTY4NiA4NSA2Mi4wMTU2MjUgODUgTCA3Ni44NjMyODEgODUgQyA3OC4xMjEzMTkgODUgNzkuMjk3MTEgODQuNjczMjI5IDgwLjI5Njg3NSA4NC4wMTc1NzggQyA4MS4zNDU3NTIgODMuMzMwOTA0IDgyLjAwMTMzMSA4Mi4yMDU3ODYgODIgODAuOTg0Mzc1IEwgODIgMTkuMDE3NTc4IEMgODIgMTcuNzk2NzQ2IDgxLjM0NTYzMSAxNi42NzAyNzUgODAuMjk2ODc1IDE1Ljk4MjQyMiBDIDc5LjI5NzA5NSAxNS4zMjYzMTYgNzguMTIwODQyIDE1IDc2Ljg2MTMyOCAxNSBMIDYyLjAxNTYyNSAxNSB6IE0gMjMuMTM2NzE5IDE3IEwgMzcuOTgyNDIyIDE3IEMgMzguNjA4NDgzIDE3IDM4Ljk1MzAyMyAxNy4xNzg5MiAzOS4zNTM1MTYgMTcuNzY3NTc4IEMgMzkuNzg4NTgzIDE4LjQwOTgyIDQwIDE5LjEwNTY4OSA0MCAxOS45NjQ4NDQgQyA0MCAyMC45NDcxMzMgMzkuNzY2NDc5IDIxLjY5MTMwMyAzOS4zMjQyMTkgMjIuMzEyNSBDIDM5LjMyNDIxOSAyMi4zMTI1IDM5LjMyNDIxOSAyMi4zMTQ0NTMgMzkuMzI0MjE5IDIyLjMxNDQ1MyBDIDM4LjkwOTQ3MSAyMi44OTI5NzMgMzguNjEzMjU4IDIzIDM3Ljk4NDM3NSAyMyBMIDI4IDIzIEEgMS4wMDAxIDEuMDAwMSAwIDAgMCAyNyAyNCBMIDI3IDc2IEEgMS4wMDAxIDEuMDAwMSAwIDAgMCAyOCA3NyBMIDM3Ljk4NDM3NSA3NyBDIDM4LjYxMjg1OCA3NyAzOC45MDg5NjUgNzcuMTA4NTgzIDM5LjMyNDIxOSA3Ny42ODc1IEMgMzkuNzY2Njg4IDc4LjMwOTc2MyA0MCA3OS4wNTUxNTcgNDAgODAuMDM1MTU2IEMgNDAgODAuODkzMTQxIDM5Ljc4NzM2NiA4MS41OTE2MTMgMzkuMzUzNTE2IDgyLjIzMDQ2OSBBIDEuMDAwMSAxLjAwMDEgMCAwIDAgMzkuMzUzNTE2IDgyLjIzMjQyMiBDIDM4Ljk1NDA4NCA4Mi44MjEyOCAzOC42MTA0MzYgODMgMzcuOTg0Mzc1IDgzIEwgMjMuMTM2NzE5IDgzIEMgMjIuMjEwMjMzIDgzIDIxLjQ2MzA0OCA4Mi43ODE1OTcgMjAuNzk4ODI4IDgyLjM0NTcwMyBBIDEuMDAwMSAxLjAwMDEgMCAwIDAgMjAuNzk2ODc1IDgyLjM0Mzc1IEMgMjAuMTc4MTA1IDgxLjkzODY3MiAyMCA4MS42MDE1OTggMjAgODAuOTg0Mzc1IEwgMjAgMTkuMDE1NjI1IEMgMjAgMTguMzk5NzMxIDIwLjE3OTg5MSAxOC4wNjAyNDMgMjAuNzk4ODI4IDE3LjY1NDI5NyBDIDIxLjQ2MzAwNSAxNy4yMTkyMjkgMjIuMjExMzg1IDE3IDIzLjEzNjcxOSAxNyB6IE0gNjIuMDE1NjI1IDE3IEwgNzYuODYxMzI4IDE3IEMgNzcuNzg3ODE0IDE3IDc4LjUzNjk1MiAxNy4yMTg0MDMgNzkuMjAxMTcyIDE3LjY1NDI5NyBDIDc5LjgyMDQxNiAxOC4wNjA0NDQgODAgMTguNDAyNDEgODAgMTkuMDE3NTc4IEwgODAgODAuOTg0Mzc1IEEgMS4wMDAxIDEuMDAwMSAwIDAgMCA4MCA4MC45ODYzMjggQyA4MC4wMDA2NjkgODEuNjAwOTE3IDc5LjgyMjI0OCA4MS45Mzg0MjUgNzkuMjAzMTI1IDgyLjM0Mzc1IEEgMS4wMDAxIDEuMDAwMSAwIDAgMCA3OS4yMDExNzIgODIuMzQ1NzAzIEMgNzguNTM3MzA2IDgyLjc4MTMwMiA3Ny43ODg2MTUgODMgNzYuODYzMjgxIDgzIEwgNjIuMDE1NjI1IDgzIEMgNjEuMzkwMjQzIDgzIDYxLjA0NjQyMiA4Mi44MTk1NTYgNjAuNjQ2NDg0IDgyLjIzMjQyMiBDIDYwLjIxMzI1OCA4MS41OTMzMTQgNjAgODAuODk0MzExIDYwIDgwLjAzNTE1NiBDIDYwIDc5LjA1NDAxMiA2MC4yMzMwODYgNzguMzEwMDc5IDYwLjY3NTc4MSA3Ny42ODc1IEMgNjAuNjc1NzgxIDc3LjY4NzUgNjAuNjc1NzgxIDc3LjY4NTU0NyA2MC42NzU3ODEgNzcuNjg1NTQ3IEMgNjEuMDkwNjUgNzcuMTA3NTc4IDYxLjM4NzUxNCA3NyA2Mi4wMTU2MjUgNzcgTCA3MiA3NyBBIDEuMDAwMSAxLjAwMDEgMCAwIDAgNzMgNzYgTCA3MyAyNCBBIDEuMDAwMSAxLjAwMDEgMCAwIDAgNzIgMjMgTCA2Mi4wMTU2MjUgMjMgQyA2MS4zODY3NDIgMjMgNjEuMDkwNTI5IDIyLjg5MzAyIDYwLjY3NTc4MSAyMi4zMTQ0NTMgTCA2MC42NzU3ODEgMjIuMzEyNSBDIDYwLjIzMzc0NyAyMS42OTE2NjYgNjAgMjAuOTQ1OTg4IDYwIDE5Ljk2NDg0NCBDIDYwIDE5LjEwNjg1OSA2MC4yMTIwMjQgMTguNDA4MTI4IDYwLjY0NjQ4NCAxNy43Njc1NzggQyA2MS4wNDU5MTYgMTcuMTc4NjczIDYxLjM4OTU2NCAxNyA2Mi4wMTU2MjUgMTcgeiBNIDIzLjQ5MjE4OCAyMi45OTIxODggQSAwLjUwMDA1IDAuNTAwMDUgMCAwIDAgMjMgMjMuNSBMIDIzIDI0LjUgQSAwLjUwMDA1IDAuNTAwMDUgMCAxIDAgMjQgMjQuNSBMIDI0IDIzLjUgQSAwLjUwMDA1IDAuNTAwMDUgMCAwIDAgMjMuNDkyMTg4IDIyLjk5MjE4OCB6IE0gNzYuNDkyMTg4IDIyLjk5MjE4OCBBIDAuNTAwMDUgMC41MDAwNSAwIDAgMCA3NiAyMy41IEwgNzYgMjQuNSBBIDAuNTAwMDUgMC41MDAwNSAwIDEgMCA3NyAyNC41IEwgNzcgMjMuNSBBIDAuNTAwMDUgMC41MDAwNSAwIDAgMCA3Ni40OTIxODggMjIuOTkyMTg4IHogTSAyMy40OTIxODggMjYuOTkyMTg4IEEgMC41MDAwNSAwLjUwMDA1IDAgMCAwIDIzIDI3LjUgTCAyMyAzMS41IEEgMC41MDAwNSAwLjUwMDA1IDAgMSAwIDI0IDMxLjUgTCAyNCAyNy41IEEgMC41MDAwNSAwLjUwMDA1IDAgMCAwIDIzLjQ5MjE4OCAyNi45OTIxODggeiBNIDc2LjQ5MjE4OCAyNi45OTIxODggQSAwLjUwMDA1IDAuNTAwMDUgMCAwIDAgNzYgMjcuNSBMIDc2IDMxLjUgQSAwLjUwMDA1IDAuNTAwMDUgMCAxIDAgNzcgMzEuNSBMIDc3IDI3LjUgQSAwLjUwMDA1IDAuNTAwMDUgMCAwIDAgNzYuNDkyMTg4IDI2Ljk5MjE4OCB6IE0gMjMuNDkyMTg4IDMzLjk5MjE4OCBBIDAuNTAwMDUgMC41MDAwNSAwIDAgMCAyMyAzNC41IEwgMjMgNzYuNSBBIDAuNTAwMDUgMC41MDAwNSAwIDEgMCAyNCA3Ni41IEwgMjQgMzQuNSBBIDAuNTAwMDUgMC41MDAwNSAwIDAgMCAyMy40OTIxODggMzMuOTkyMTg4IHogTSA3Ni40OTIxODggMzMuOTkyMTg4IEEgMC41MDAwNSAwLjUwMDA1IDAgMCAwIDc2IDM0LjUgTCA3NiA3Ni41IEEgMC41MDAwNSAwLjUwMDA1IDAgMSAwIDc3IDc2LjUgTCA3NyAzNC41IEEgMC41MDAwNSAwLjUwMDA1IDAgMCAwIDc2LjQ5MjE4OCAzMy45OTIxODggelwiLz48L3N2Zz5gO1xyXG5leHBvcnQgY29uc3QgTUFSS0RPV05fSUNPTiA9IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDY0IDY0XCI+PHBhdGggZD1cIk0gNSA4IEMgMy4zNDc2NTYgOCAyIDkuMzQ3NjU2IDIgMTEgTCAyIDUzIEMgMiA1NC42NTIzNDQgMy4zNDc2NTYgNTYgNSA1NiBMIDU5IDU2IEMgNjAuNjUyMzQ0IDU2IDYyIDU0LjY1MjM0NCA2MiA1MyBMIDYyIDExIEMgNjIgOS4zNDc2NTYgNjAuNjUyMzQ0IDggNTkgOCBaIE0gNSAxMCBMIDU5IDEwIEMgNTkuNTUwNzgxIDEwIDYwIDEwLjQ0OTIxOSA2MCAxMSBMIDYwIDUzIEMgNjAgNTMuNTUwNzgxIDU5LjU1MDc4MSA1NCA1OSA1NCBMIDUgNTQgQyA0LjQ0OTIxOSA1NCA0IDUzLjU1MDc4MSA0IDUzIEwgNCAxMSBDIDQgMTAuNDQ5MjE5IDQuNDQ5MjE5IDEwIDUgMTAgWiBNIDQ1IDIwIEMgNDQuNDQ5MjE5IDIwIDQ0IDIwLjQ0NTMxMyA0NCAyMSBMIDQ0IDM2LjU4NTkzOCBMIDQxLjcwNzAzMSAzNC4yOTI5NjkgQyA0MS4zMTY0MDYgMzMuOTAyMzQ0IDQwLjY4MzU5NCAzMy45MDIzNDQgNDAuMjkyOTY5IDM0LjI5Mjk2OSBDIDM5LjkwMjM0NCAzNC42ODM1OTQgMzkuOTAyMzQ0IDM1LjMxNjQwNiA0MC4yOTI5NjkgMzUuNzA3MDMxIEwgNDQuMjkyOTY5IDM5LjcwMzEyNSBDIDQ0LjM4NjcxOSAzOS43OTY4NzUgNDQuNDk2MDk0IDM5Ljg3MTA5NCA0NC42MTcxODggMzkuOTIxODc1IEMgNDQuNzM4MjgxIDM5Ljk3MjY1NiA0NC44NzEwOTQgNDAgNDUgNDAgQyA0NS4xMjg5MDYgNDAgNDUuMjYxNzE5IDM5Ljk3MjY1NiA0NS4zODI4MTMgMzkuOTIxODc1IEMgNDUuNTAzOTA2IDM5Ljg3MTA5NCA0NS42MTMyODEgMzkuNzk2ODc1IDQ1LjcwNzAzMSAzOS43MDMxMjUgTCA0OS43MDcwMzEgMzUuNzA3MDMxIEMgNTAuMDk3NjU2IDM1LjMxNjQwNiA1MC4wOTc2NTYgMzQuNjgzNTk0IDQ5LjcwNzAzMSAzNC4yOTI5NjkgQyA0OS4zMTY0MDYgMzMuOTAyMzQ0IDQ4LjY4MzU5NCAzMy45MDIzNDQgNDguMjkyOTY5IDM0LjI5Mjk2OSBMIDQ2IDM2LjU4NTkzOCBMIDQ2IDIxIEMgNDYgMjAuNDQ1MzEzIDQ1LjU1MDc4MSAyMCA0NSAyMCBaIE0gMTYuMTA5Mzc1IDIwLjAwMzkwNiBDIDE2LjAwMzkwNiAxOS45OTYwOTQgMTUuODk4NDM4IDIwIDE1Ljc5Mjk2OSAyMC4wMTk1MzEgQyAxNS4zNzEwOTQgMjAuMTEzMjgxIDE1LjA1NDY4OCAyMC40NjA5MzggMTUuMDAzOTA2IDIwLjg5MDYyNSBMIDEzLjAwMzkwNiAzOC44OTA2MjUgQyAxMi45NDUzMTMgMzkuNDM3NSAxMy4zMzk4NDQgMzkuOTI5Njg4IDEzLjg5MDYyNSAzOS45OTIxODggQyAxNC40Mzc1IDQwLjA0Njg3NSAxNC45Mjk2ODggMzkuNjYwMTU2IDE0Ljk5MjE4OCAzOS4xMDkzNzUgTCAxNi42NjAxNTYgMjQuMTEzMjgxIEwgMjIuMTM2NzE5IDMzLjUwMzkwNiBDIDIyLjQ5NjA5NCAzNC4xMTcxODggMjMuNTAzOTA2IDM0LjExNzE4OCAyMy44NjMyODEgMzMuNTAzOTA2IEwgMjkuMzM5ODQ0IDI0LjExMzI4MSBMIDMxLjAwNzgxMyAzOS4xMDkzNzUgQyAzMS4wNjI1IDM5LjYyMTA5NCAzMS40OTYwOTQgNDAgMzIgNDAgQyAzMi4wMzUxNTYgNDAgMzIuMDc0MjE5IDQwIDMyLjEwOTM3NSAzOS45OTYwOTQgQyAzMi42NjAxNTYgMzkuOTMzNTk0IDMzLjA1NDY4OCAzOS40Mzc1IDMyLjk5NjA5NCAzOC44OTA2MjUgTCAzMC45OTYwOTQgMjAuODkwNjI1IEMgMzAuOTQ1MzEzIDIwLjQ2MDkzOCAzMC42Mjg5MDYgMjAuMTEzMjgxIDMwLjIwNzAzMSAyMC4wMTk1MzEgQyAyOS43ODUxNTYgMTkuOTI5Njg4IDI5LjM1NTQ2OSAyMC4xMjUgMjkuMTM2NzE5IDIwLjQ5NjA5NCBMIDIzIDMxLjAxNTYyNSBMIDE2Ljg2MzI4MSAyMC40OTYwOTQgQyAxNi42OTkyMTkgMjAuMjE4NzUgMTYuNDE3OTY5IDIwLjAzOTA2MyAxNi4xMDkzNzUgMjAuMDAzOTA2IFogTSA3IDQ4IEMgNi40NDkyMTkgNDggNiA0OC40NDUzMTMgNiA0OSBMIDYgNTEgQyA2IDUxLjU1NDY4OCA2LjQ0OTIxOSA1MiA3IDUyIEMgNy41NTA3ODEgNTIgOCA1MS41NTQ2ODggOCA1MSBMIDggNDkgQyA4IDQ4LjQ0NTMxMyA3LjU1MDc4MSA0OCA3IDQ4IFogTSAxMiA0OCBDIDExLjQ0OTIxOSA0OCAxMSA0OC40NDUzMTMgMTEgNDkgTCAxMSA1MSBDIDExIDUxLjU1NDY4OCAxMS40NDkyMTkgNTIgMTIgNTIgQyAxMi41NTA3ODEgNTIgMTMgNTEuNTU0Njg4IDEzIDUxIEwgMTMgNDkgQyAxMyA0OC40NDUzMTMgMTIuNTUwNzgxIDQ4IDEyIDQ4IFogTSAxNyA0OCBDIDE2LjQ0OTIxOSA0OCAxNiA0OC40NDUzMTMgMTYgNDkgTCAxNiA1MSBDIDE2IDUxLjU1NDY4OCAxNi40NDkyMTkgNTIgMTcgNTIgQyAxNy41NTA3ODEgNTIgMTggNTEuNTU0Njg4IDE4IDUxIEwgMTggNDkgQyAxOCA0OC40NDUzMTMgMTcuNTUwNzgxIDQ4IDE3IDQ4IFogTSAyMiA0OCBDIDIxLjQ0OTIxOSA0OCAyMSA0OC40NDUzMTMgMjEgNDkgTCAyMSA1MSBDIDIxIDUxLjU1NDY4OCAyMS40NDkyMTkgNTIgMjIgNTIgQyAyMi41NTA3ODEgNTIgMjMgNTEuNTU0Njg4IDIzIDUxIEwgMjMgNDkgQyAyMyA0OC40NDUzMTMgMjIuNTUwNzgxIDQ4IDIyIDQ4IFogTSAyNyA0OCBDIDI2LjQ0OTIxOSA0OCAyNiA0OC40NDUzMTMgMjYgNDkgTCAyNiA1MSBDIDI2IDUxLjU1NDY4OCAyNi40NDkyMTkgNTIgMjcgNTIgQyAyNy41NTA3ODEgNTIgMjggNTEuNTU0Njg4IDI4IDUxIEwgMjggNDkgQyAyOCA0OC40NDUzMTMgMjcuNTUwNzgxIDQ4IDI3IDQ4IFogTSAzMiA0OCBDIDMxLjQ0OTIxOSA0OCAzMSA0OC40NDUzMTMgMzEgNDkgTCAzMSA1MSBDIDMxIDUxLjU1NDY4OCAzMS40NDkyMTkgNTIgMzIgNTIgQyAzMi41NTA3ODEgNTIgMzMgNTEuNTU0Njg4IDMzIDUxIEwgMzMgNDkgQyAzMyA0OC40NDUzMTMgMzIuNTUwNzgxIDQ4IDMyIDQ4IFogTSAzNyA0OCBDIDM2LjQ0OTIxOSA0OCAzNiA0OC40NDUzMTMgMzYgNDkgTCAzNiA1MSBDIDM2IDUxLjU1NDY4OCAzNi40NDkyMTkgNTIgMzcgNTIgQyAzNy41NTA3ODEgNTIgMzggNTEuNTU0Njg4IDM4IDUxIEwgMzggNDkgQyAzOCA0OC40NDUzMTMgMzcuNTUwNzgxIDQ4IDM3IDQ4IFogTSA0MiA0OCBDIDQxLjQ0OTIxOSA0OCA0MSA0OC40NDUzMTMgNDEgNDkgTCA0MSA1MSBDIDQxIDUxLjU1NDY4OCA0MS40NDkyMTkgNTIgNDIgNTIgQyA0Mi41NTA3ODEgNTIgNDMgNTEuNTU0Njg4IDQzIDUxIEwgNDMgNDkgQyA0MyA0OC40NDUzMTMgNDIuNTUwNzgxIDQ4IDQyIDQ4IFogTSA0NyA0OCBDIDQ2LjQ0OTIxOSA0OCA0NiA0OC40NDUzMTMgNDYgNDkgTCA0NiA1MSBDIDQ2IDUxLjU1NDY4OCA0Ni40NDkyMTkgNTIgNDcgNTIgQyA0Ny41NTA3ODEgNTIgNDggNTEuNTU0Njg4IDQ4IDUxIEwgNDggNDkgQyA0OCA0OC40NDUzMTMgNDcuNTUwNzgxIDQ4IDQ3IDQ4IFogTSA1MiA0OCBDIDUxLjQ0OTIxOSA0OCA1MSA0OC40NDUzMTMgNTEgNDkgTCA1MSA1MSBDIDUxIDUxLjU1NDY4OCA1MS40NDkyMTkgNTIgNTIgNTIgQyA1Mi41NTA3ODEgNTIgNTMgNTEuNTU0Njg4IDUzIDUxIEwgNTMgNDkgQyA1MyA0OC40NDUzMTMgNTIuNTUwNzgxIDQ4IDUyIDQ4IFogTSA1NyA0OCBDIDU2LjQ0OTIxOSA0OCA1NiA0OC40NDUzMTMgNTYgNDkgTCA1NiA1MSBDIDU2IDUxLjU1NDY4OCA1Ni40NDkyMTkgNTIgNTcgNTIgQyA1Ny41NTA3ODEgNTIgNTggNTEuNTU0Njg4IDU4IDUxIEwgNTggNDkgQyA1OCA0OC40NDUzMTMgNTcuNTUwNzgxIDQ4IDU3IDQ4IFpcIi8+PC9zdmc+YDtcclxuZXhwb3J0IGNvbnN0IExJTktfRURJVF9JQ09OID0gYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHdpZHRoPVwiMTAwXCIgaGVpZ2h0PVwiMTAwXCIgZmlsbD1cImN1cnJlbnRDb2xvclwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgNjQgNjRcIj4gPHBhdGggZD1cIk0gNDQuMTQwNjI1IDMuNDUzMTI1IEMgNDEuMzIzMTI1IDMuNDUzMTI1IDM4LjUwNDM3NSA0LjUyNDkyMTkgMzYuMzU5Mzc1IDYuNjY5OTIxOSBMIDMwLjcxMDkzOCAxMi4zMjAzMTIgQyAyNy4xNjA5MzcgMTUuODcwMzEyIDI2LjU1MDg1OSAyMS4yNzA5MzcgMjguODgwODU5IDI1LjQ2MDkzOCBMIDI1LjQ2MDkzOCAyOC44ODA4NTkgQyAyMS4yNzA5MzcgMjYuNTUwODU5IDE1Ljg3MDMxMyAyNy4xNjA5MzggMTIuMzIwMzEyIDMwLjcxMDkzOCBMIDYuNjY5OTIxOSAzNi4zNTkzNzUgQyA0LjU4OTkyMTkgMzguNDM5Mzc1IDMuNDM5NDUzMSA0MS4yMDA2MjUgMy40Mzk0NTMxIDQ0LjE0MDYyNSBDIDMuNDM5NDUzMSA0Ny4wODA2MjUgNC41ODk5MjE5IDQ5LjgzOTkyMiA2LjY2OTkyMTkgNTEuOTE5OTIyIEwgOC4wODAwNzgxIDUzLjMzMDA3OCBDIDEwLjIyMDA3OCA1NS40ODAwNzggMTMuMDM5Mzc1IDU2LjU1MDc4MSAxNS44NTkzNzUgNTYuNTUwNzgxIEMgMTguNjY5Mzc1IDU2LjU1MDc4MSAyMS40OTA2MjUgNTUuNDgwMDc4IDIzLjY0MDYyNSA1My4zMzAwNzggTCAyOS4yODkwNjIgNDcuNjc5Njg4IEMgMzIuODM5MDYzIDQ0LjEyOTY4OCAzMy40NDkxNDEgMzguNzI5MDYyIDMxLjExOTE0MSAzNC41MzkwNjIgTCAzNC41MzkwNjIgMzEuMTE5MTQxIEMgMzYuMTk5MDYyIDMyLjA0OTE0MSAzOC4wNTAzOTEgMzIuNTA5NzY2IDM5LjkwMDM5MSAzMi41MDk3NjYgQyA0Mi43MjAzOTEgMzIuNTA5NzY2IDQ1LjUyOTY4NyAzMS40MzkwNjMgNDcuNjc5Njg4IDI5LjI4OTA2MiBMIDUzLjMzMDA3OCAyMy42NDA2MjUgQyA1NS40MTAwNzggMjEuNTYwNjI1IDU2LjU2MDU0NyAxOC43OTkzNzUgNTYuNTYwNTQ3IDE1Ljg1OTM3NSBDIDU2LjU2MDU0NyAxMi45MTkzNzUgNTUuNDEwMDc4IDEwLjE2MDA3OCA1My4zMzAwNzggOC4wODAwNzgxIEwgNTEuOTE5OTIyIDYuNjY5OTIxOSBDIDQ5Ljc3NDkyMiA0LjUyNDkyMTkgNDYuOTU4MTI1IDMuNDUzMTI1IDQ0LjE0MDYyNSAzLjQ1MzEyNSB6IE0gNDQuMTQ0NTMxIDUuNDQ3MjY1NiBDIDQ2LjQ0OTUzMSA1LjQ0NzI2NTYgNDguNzU0NzY2IDYuMzI1MDc4MSA1MC41MDk3NjYgOC4wODAwNzgxIEwgNTEuOTE5OTIyIDkuNDkwMjM0NCBDIDUzLjYxOTkyMiAxMS4xOTAyMzQgNTQuNTYwNTQ3IDEzLjQ0OTM3NSA1NC41NjA1NDcgMTUuODU5Mzc1IEMgNTQuNTYwNTQ3IDE4LjI1OTM3NSA1My42MTk5MjIgMjAuNTIwNzAzIDUxLjkxOTkyMiAyMi4yMjA3MDMgTCA0Ni4yNTk3NjYgMjcuODgwODU5IEMgNDQuNTU5NzY2IDI5LjU4MDg1OSA0Mi4zMDAzOTEgMzAuNTA5NzY2IDM5LjkwMDM5MSAzMC41MDk3NjYgQyAzOC41NDAzOTEgMzAuNTA5NzY2IDM3LjIxOTI5NyAzMC4yMTA4NTkgMzYuMDI5Mjk3IDI5LjYzMDg1OSBMIDM5LjE5OTIxOSAyNi40NjA5MzggQyAzOS40MjkyMTkgMjYuNDkwOTM4IDM5LjY2MDM5MSAyNi41MDk3NjYgMzkuOTAwMzkxIDI2LjUwOTc2NiBDIDQxLjI0MDM5MSAyNi41MDk3NjYgNDIuNDg5Njg4IDI1Ljk5MDc4MSA0My40Mjk2ODggMjUuMDUwNzgxIEwgNDkuMDg5ODQ0IDE5LjM5MDYyNSBDIDUwLjAzOTg0NCAxOC40NTA2MjUgNTAuNTYwNTQ3IDE3LjE4OTM3NSA1MC41NjA1NDcgMTUuODU5Mzc1IEMgNTAuNTYwNTQ3IDE0LjUxOTM3NSA1MC4wMzk4NDQgMTMuMjcwMzEzIDQ5LjA4OTg0NCAxMi4zMjAzMTIgTCA0Ny42Nzk2ODggMTAuOTEwMTU2IEMgNDUuNzI5Njg3IDguOTYwMTU2MyA0Mi41NDkzNzUgOC45NjAxNTYzIDQwLjYwOTM3NSAxMC45MTAxNTYgTCAzNC45NDkyMTkgMTYuNTYwNTQ3IEMgMzQuMDA5MjE5IDE3LjUxMDU0NyAzMy40OTAyMzQgMTguNzU5NjA5IDMzLjQ5MDIzNCAyMC4wOTk2MDkgQyAzMy40OTAyMzQgMjAuMzM5NjA5IDMzLjUwOTA2MyAyMC41NzA3ODEgMzMuNTM5MDYyIDIwLjgwMDc4MSBMIDMwLjM2OTE0MSAyMy45NzA3MDMgQyAyOS43ODkxNDEgMjIuNzgwNzAzIDI5LjQ5MDIzNCAyMS40NTk2MDkgMjkuNDkwMjM0IDIwLjA5OTYwOSBDIDI5LjQ5MDIzNCAxNy42OTk2MDkgMzAuNDE5MTQxIDE1LjQ0MDIzNCAzMi4xMTkxNDEgMTMuNzQwMjM0IEwgMzcuNzc5Mjk3IDguMDgwMDc4MSBDIDM5LjUzNDI5NyA2LjMyNTA3ODEgNDEuODM5NTMxIDUuNDQ3MjY1NiA0NC4xNDQ1MzEgNS40NDcyNjU2IHogTSAyNC43NDYwOTQgOS4yNzM0Mzc1IEMgMjQuNjE3NzAzIDkuMjU1NDg0NCAyNC40ODM4MTMgOS4yNjE2MjUgMjQuMzUxNTYyIDkuMjk2ODc1IEMgMjMuODE3NTYzIDkuNDM5ODc1IDIzLjUwMDUzMSA5Ljk4NzQ4NDQgMjMuNjQ0NTMxIDEwLjUyMTQ4NCBMIDI0LjE2NDA2MiAxMi40NTUwNzggQyAyNC4yODQwNjMgMTIuOTAyMDc4IDI0LjY4NjkwNiAxMy4xOTUzMTIgMjUuMTI4OTA2IDEzLjE5NTMxMiBDIDI1LjIxNDkwNiAxMy4xOTUzMTIgMjUuMzAyNjcyIDEzLjE4NDE1NiAyNS4zODg2NzIgMTMuMTYwMTU2IEMgMjUuOTIyNjcyIDEzLjAxNzE1NiAyNi4yMzk3MDMgMTIuNDY5NTQ3IDI2LjA5NTcwMyAxMS45MzU1NDcgTCAyNS41NzYxNzIgMTAuMDAzOTA2IEMgMjUuNDY4MTcyIDkuNjAzNDA2MiAyNS4xMzEyNjYgOS4zMjcyOTY5IDI0Ljc0NjA5NCA5LjI3MzQzNzUgeiBNIDE5LjY2NDA2MiAxMS4yNjk1MzEgQyAxOS41MzUzMjggMTEuMjg1NjI1IDE5LjQwNjEwOSAxMS4zMjcyMzQgMTkuMjg3MTA5IDExLjM5NjQ4NCBDIDE4LjgwODEwOSAxMS42NzI0ODQgMTguNjQ0ODc1IDEyLjI4MzcxOSAxOC45MjE4NzUgMTIuNzYxNzE5IEwgMTkuOTIxODc1IDE0LjQ5NDE0MSBDIDIwLjEwNzg3NSAxNC44MTUxNDEgMjAuNDQzMDYzIDE0Ljk5NDE0MSAyMC43ODkwNjIgMTQuOTk0MTQxIEMgMjAuOTU5MDYzIDE0Ljk5NDE0MSAyMS4xMzAxMDkgMTQuOTUwMzc1IDIxLjI4NzEwOSAxNC44NTkzNzUgQyAyMS43NjYxMDkgMTQuNTgzMzc1IDIxLjkzMTI5NyAxMy45NzIxNDEgMjEuNjU0Mjk3IDEzLjQ5NDE0MSBMIDIwLjY1NDI5NyAxMS43NjE3MTkgQyAyMC40NDY1NDcgMTEuNDAyNDY5IDIwLjA1MDI2NiAxMS4yMjEyNSAxOS42NjQwNjIgMTEuMjY5NTMxIHogTSA0NC4xNDA2MjUgMTEuNDQzMzU5IEMgNDQuOTA4MTI1IDExLjQ0MzM1OSA0NS42NzQ3NjYgMTEuNzM1MzEyIDQ2LjI1OTc2NiAxMi4zMjAzMTIgTCA0Ny42Nzk2ODggMTMuNzQwMjM0IEMgNDguMjM5Njg4IDE0LjMwMDIzNCA0OC41NjA1NDcgMTUuMDU5Mzc1IDQ4LjU2MDU0NyAxNS44NTkzNzUgQyA0OC41NjA1NDcgMTYuNjU5Mzc1IDQ4LjIzOTY4OCAxNy40MTA0NjkgNDcuNjc5Njg4IDE3Ljk4MDQ2OSBMIDQyLjAxOTUzMSAyMy42NDA2MjUgQyA0MS43OTk1MzEgMjMuODYwNjI1IDQxLjUzOTc2NiAyNC4wMzk2ODcgNDEuMjU5NzY2IDI0LjE3OTY4OCBDIDQxLjU5OTc2NiAyMy41ODk2ODggNDEuNzc5Mjk3IDIyLjkyMDcwMyA0MS43NzkyOTcgMjIuMjIwNzAzIEMgNDEuNzc5Mjk3IDIxLjE1MDcwMyA0MS4zNTkzNzUgMjAuMTUwNjI1IDQwLjYwOTM3NSAxOS4zOTA2MjUgQyAzOS44NDkzNzUgMTguNjQwNjI1IDM4Ljg0OTI5NyAxOC4yMjA3MDMgMzcuNzc5Mjk3IDE4LjIyMDcwMyBDIDM3LjA3OTI5NyAxOC4yMjA3MDMgMzYuNDEwMzEyIDE4LjQwMDIzNCAzNS44MjAzMTIgMTguNzQwMjM0IEMgMzUuOTUwMzEzIDE4LjQ2MDIzNCAzNi4xMzkzNzUgMTguMjEwNDY5IDM2LjM1OTM3NSAxNy45ODA0NjkgTCA0Mi4wMTk1MzEgMTIuMzIwMzEyIEMgNDIuNjA0NTMxIDExLjczNTMxMiA0My4zNzMxMjUgMTEuNDQzMzU5IDQ0LjE0MDYyNSAxMS40NDMzNTkgeiBNIDE1LjY0NjQ4NCAxNC40NDE0MDYgQyAxNS4zOTA3MzQgMTQuNDQxNDA2IDE1LjEzNDk1MyAxNC41Mzg4NzUgMTQuOTM5NDUzIDE0LjczNDM3NSBDIDE0LjU0ODQ1MyAxNS4xMjUzNzUgMTQuNTQ4NDUzIDE1Ljc1NzQzNyAxNC45Mzk0NTMgMTYuMTQ4NDM4IEwgMTYuMzUzNTE2IDE3LjU2MjUgQyAxNi41NDg1MTYgMTcuNzU3NSAxNi44MDQ1NDcgMTcuODU1NDY5IDE3LjA2MDU0NyAxNy44NTU0NjkgQyAxNy4zMTY1NDcgMTcuODU1NDY5IDE3LjU3MjU3OCAxNy43NTc1IDE3Ljc2NzU3OCAxNy41NjI1IEMgMTguMTU4NTc4IDE3LjE3MTUgMTguMTU4NTc4IDE2LjUzOTQzOCAxNy43Njc1NzggMTYuMTQ4NDM4IEwgMTYuMzUzNTE2IDE0LjczNDM3NSBDIDE2LjE1ODAxNiAxNC41Mzg4NzUgMTUuOTAyMjM0IDE0LjQ0MTQwNiAxNS42NDY0ODQgMTQuNDQxNDA2IHogTSAxMi41OTE3OTcgMTguNTg5ODQ0IEMgMTIuMjA0OTM3IDE4LjU0MTcwMyAxMS44MDg1NjIgMTguNzIyNzgxIDExLjYwMTU2MiAxOS4wODIwMzEgQyAxMS4zMjQ1NjIgMTkuNTYwMDMxIDExLjQ4OTc1IDIwLjE3MjIxOSAxMS45Njg3NSAyMC40NDkyMTkgTCAxMy42OTkyMTkgMjEuNDQ5MjE5IEMgMTMuODU2MjE5IDIxLjU0MDIxOSAxNC4wMjkyMTkgMjEuNTgyMDMxIDE0LjE5OTIxOSAyMS41ODIwMzEgQyAxNC41NDUyMTkgMjEuNTgyMDMxIDE0Ljg4MTQwNiAyMS40MDMwMzEgMTUuMDY2NDA2IDIxLjA4MjAzMSBDIDE1LjM0MjQwNiAyMC42MDMwMzEgMTUuMTc3MjE5IDE5Ljk5Mjc5NyAxNC42OTkyMTkgMTkuNzE2Nzk3IEwgMTIuOTY4NzUgMTguNzE2Nzk3IEMgMTIuODQ5IDE4LjY0Nzc5NyAxMi43MjA3NSAxOC42MDU4OTEgMTIuNTkxNzk3IDE4LjU4OTg0NCB6IE0gMzcuNzc5Mjk3IDIwLjIyMDcwMyBDIDM4LjMwOTI5NyAyMC4yMjA3MDMgMzguODA5NDUzIDIwLjQzMDU0NyAzOS4xODk0NTMgMjAuODEwNTQ3IEMgMzkuNTY5NDUzIDIxLjE5MDU0NyAzOS43NzkyOTcgMjEuNjkwNzAzIDM5Ljc3OTI5NyAyMi4yMjA3MDMgQyAzOS43NzkyOTcgMjIuNzYwNzAzIDM5LjU2OTQ1MyAyMy4yNjA2MjUgMzkuMTg5NDUzIDIzLjY0MDYyNSBMIDM4LjYwOTM3NSAyNC4yMjA3MDMgTCAzNy4xNTAzOTEgMjUuNjc5Njg4IEwgMzQuMjc5Mjk3IDI4LjU1MDc4MSBMIDMyLjg2OTE0MSAyOS45NjA5MzggTCAyOS45NzA3MDMgMzIuODU5Mzc1IEwgMjguNTUwNzgxIDM0LjI3OTI5NyBMIDI1LjY3OTY4OCAzNy4xNTAzOTEgTCAyNC4yMjA3MDMgMzguNjA5Mzc1IEwgMjMuNjQwNjI1IDM5LjE4OTQ1MyBDIDIzLjI2MDYyNSAzOS41Njk0NTMgMjIuNzQwNzAzIDM5Ljc1OTc2NiAyMi4yMjA3MDMgMzkuNzU5NzY2IEMgMjEuNzAwNzAzIDM5Ljc1OTc2NiAyMS4xODA1NDcgMzkuNTY5NDUzIDIwLjgxMDU0NyAzOS4xODk0NTMgQyAyMC40MzA1NDcgMzguODA5NDUzIDIwLjIyMDcwMyAzOC4zMDkyOTcgMjAuMjIwNzAzIDM3Ljc3OTI5NyBDIDIwLjIyMDcwMyAzNy4yMzkyOTcgMjAuNDMwNTQ3IDM2LjczOTM3NSAyMC44MTA1NDcgMzYuMzU5Mzc1IEwgMjEuMzkwNjI1IDM1Ljc3OTI5NyBMIDIyLjg0OTYwOSAzNC4zMjAzMTIgTCAyNS43MjA3MDMgMzEuNDQ5MjE5IEwgMjcuMTQwNjI1IDMwLjAyOTI5NyBMIDMwLjAyOTI5NyAyNy4xNDA2MjUgTCAzMS40NDkyMTkgMjUuNzIwNzAzIEwgMzQuMzIwMzEyIDIyLjg0OTYwOSBMIDM1Ljc3OTI5NyAyMS4zOTA2MjUgTCAzNi4zNTkzNzUgMjAuODEwNTQ3IEMgMzYuNzM5Mzc1IDIwLjQzMDU0NyAzNy4yMzkyOTcgMjAuMjIwNzAzIDM3Ljc3OTI5NyAyMC4yMjA3MDMgeiBNIDEwLjMzMzk4NCAyMy40MTYwMTYgQyA5Ljk0ODI5NjkgMjMuNDY5ODc1IDkuNjExMTU2MyAyMy43NDU5ODQgOS41MDM5MDYyIDI0LjE0NjQ4NCBDIDkuMzYwOTA2MyAyNC42ODA0ODQgOS42Nzc5Mzc1IDI1LjIyODA5NCAxMC4yMTA5MzggMjUuMzcxMDk0IEwgMTIuMTQyNTc4IDI1Ljg5MDYyNSBDIDEyLjIyOTU3OCAyNS45MTM2MjUgMTIuMzE2MzQ0IDI1LjkyNTc4MSAxMi40MDIzNDQgMjUuOTI1NzgxIEMgMTIuODQzMzQ0IDI1LjkyNTc4MSAxMy4yNDgxODggMjUuNjMwNTk0IDEzLjM2NzE4OCAyNS4xODM1OTQgQyAxMy41MTAxODggMjQuNjUwNTk0IDEzLjE5MzE1NiAyNC4xMDAwMzEgMTIuNjYwMTU2IDIzLjk1NzAzMSBMIDEwLjcyODUxNiAyMy40Mzk0NTMgQyAxMC41OTU3NjYgMjMuNDA0MjAzIDEwLjQ2MjU0NyAyMy4zOTgwNjIgMTAuMzMzOTg0IDIzLjQxNjAxNiB6IE0gNTQuMzQxNzk3IDI4LjQxNzk2OSBDIDUzLjA2MTI5NyAyOC40MTgyMTkgNTEuNzgyNTk0IDI4LjkwNDkwNiA1MC44MDg1OTQgMjkuODc4OTA2IEwgNDguNzM2MzI4IDMxLjk0OTIxOSBMIDQ4LjczNjMyOCAzMS45NTExNzIgTCA0OC41ODAwNzggMzIuMTA1NDY5IEwgNDcuOTgwNDY5IDMyLjcwNzAzMSBDIDQ3Ljk3ODQ2OSAzMi43MDkwMzEgNDcuOTc4NTYzIDMyLjcxMDg5MSA0Ny45NzY1NjIgMzIuNzEyODkxIEwgNDQuOTQzMzU5IDM1Ljc1NTg1OSBDIDQ0LjkzMzM1OSAzNS43NjU4NTkgNDQuOTE4MjAzIDM1Ljc2OTI5NyA0NC45MDgyMDMgMzUuNzc5Mjk3IEMgNDQuODk4MjAzIDM1Ljc4OTI5NyA0NC44OTY3MTkgMzUuODAzNDUzIDQ0Ljg4NjcxOSAzNS44MTQ0NTMgTCAzMC4xMzg2NzIgNTAuNjA3NDIyIEMgMjkuOTc5NjcyIDUwLjc2NjQyMiAyOS44Nzg1MTYgNTAuOTczMjY2IDI5Ljg1MzUxNiA1MS4xOTcyNjYgTCAyOS4xMTkxNDEgNTcuNTA3ODEyIEwgMjguNDEyMTA5IDYyLjQ1NzAzMSBDIDI4LjM2ODEwOSA2Mi43NjkwMzEgMjguNDczMzEyIDYzLjA4MzY0MSAyOC42OTUzMTIgNjMuMzA2NjQxIEMgMjguODgzMzEyIDYzLjQ5NTY0MSAyOS4xMzgzNDQgNjMuNTk5NjA5IDI5LjQwMjM0NCA2My41OTk2MDkgQyAyOS40NDkzNDQgNjMuNTk5NjA5IDI5LjQ5NjkyMiA2My41OTY4NDQgMjkuNTQ0OTIyIDYzLjU4OTg0NCBMIDM0LjQ2Njc5NyA2Mi44ODY3MTkgTCA0MC44NTE1NjIgNjIuMjEwOTM4IEMgNDEuMDgwNTYyIDYyLjE4NjkzNyA0MS4yOTIwNzggNjIuMDg0ODc1IDQxLjQ1NTA3OCA2MS45MjE4NzUgTCA1OS4yOTY4NzUgNDQuMDIxNDg0IEwgNjIuMTIzMDQ3IDQxLjE5MzM1OSBDIDYzLjA2NzA0NyA0MC4yNDkzNTkgNjMuNTg3ODkxIDM4Ljk5MzIwMyA2My41ODc4OTEgMzcuNjU4MjAzIEMgNjMuNTg1ODkxIDM2LjMyMDIwMyA2My4wNjUwOTQgMzUuMDY1MDk0IDYyLjEyMTA5NCAzNC4xMjEwOTQgTCA1Ny44Nzg5MDYgMjkuODc4OTA2IEMgNTYuOTAzOTA2IDI4LjkwMzkwNiA1NS42MjIyOTcgMjguNDE3NzE5IDU0LjM0MTc5NyAyOC40MTc5NjkgeiBNIDIwLjA5OTYwOSAyOS40OTAyMzQgQyAyMS40NTk2MDkgMjkuNDkwMjM0IDIyLjc4MDcwMyAyOS43ODkxNDEgMjMuOTcwNzAzIDMwLjM2OTE0MSBMIDIwLjgwMDc4MSAzMy41MzkwNjIgQyAyMC41NzA3ODEgMzMuNTA5MDYyIDIwLjMzOTYwOSAzMy40OTAyMzQgMjAuMDk5NjA5IDMzLjQ5MDIzNCBDIDE4Ljc1OTYwOSAzMy40OTAyMzQgMTcuNTEwMzEyIDM0LjAwOTIxOSAxNi41NzAzMTIgMzQuOTQ5MjE5IEwgMTAuOTEwMTU2IDQwLjYwOTM3NSBDIDkuOTYwMTU2MyA0MS41NDkzNzUgOS40Mzk0NTMxIDQyLjgxMDYyNSA5LjQzOTQ1MzEgNDQuMTQwNjI1IEMgOS40Mzk0NTMxIDQ1LjQ4MDYyNSA5Ljk2MDE1NjIgNDYuNzI5Njg4IDEwLjkxMDE1NiA0Ny42Nzk2ODggTCAxMi4zMjAzMTIgNDkuMDg5ODQ0IEMgMTMuMzAwMzEzIDUwLjA2OTg0NCAxNC41NzkzNzUgNTAuNTUwNzgxIDE1Ljg1OTM3NSA1MC41NTA3ODEgQyAxNy4xMzkzNzUgNTAuNTUwNzgxIDE4LjQyMDYyNSA1MC4wNjk4NDQgMTkuMzkwNjI1IDQ5LjA4OTg0NCBMIDI1LjA1MDc4MSA0My40Mzk0NTMgQyAyNS45OTA3ODEgNDIuNDg5NDUzIDI2LjUwOTc2NiA0MS4yNDAzOTEgMjYuNTA5NzY2IDM5LjkwMDM5MSBDIDI2LjUwOTc2NiAzOS42NjAzOTEgMjYuNDkwOTM4IDM5LjQyOTIxOSAyNi40NjA5MzggMzkuMTk5MjE5IEwgMjkuNjMwODU5IDM2LjAyOTI5NyBDIDMwLjIxMDg1OSAzNy4yMTkyOTcgMzAuNTA5NzY2IDM4LjU0MDM5MSAzMC41MDk3NjYgMzkuOTAwMzkxIEMgMzAuNTA5NzY2IDQyLjMwMDM5MSAyOS41ODA4NTkgNDQuNTU5NzY2IDI3Ljg4MDg1OSA0Ni4yNTk3NjYgTCAyMi4yMjA3MDMgNTEuOTE5OTIyIEMgMTguNzEwNzAzIDU1LjQyOTkyMiAxMy4wMDAyMzQgNTUuNDI5OTIyIDkuNDkwMjM0NCA1MS45MTk5MjIgTCA4LjA4MDA3ODEgNTAuNTA5NzY2IEMgNi4zODAwNzgxIDQ4LjgwOTc2NiA1LjQzOTQ1MzEgNDYuNTUwNjI1IDUuNDM5NDUzMSA0NC4xNDA2MjUgQyA1LjQzOTQ1MzEgNDEuNzQwNjI1IDYuMzgwMDc4MSAzOS40NzkyOTcgOC4wODAwNzgxIDM3Ljc3OTI5NyBMIDEzLjc0MDIzNCAzMi4xMTkxNDEgQyAxNS40NDAyMzQgMzAuNDE5MTQxIDE3LjY5OTYwOSAyOS40OTAyMzQgMjAuMDk5NjA5IDI5LjQ5MDIzNCB6IE0gNTQuMzQxNzk3IDMwLjQxNjAxNiBDIDU1LjExMDA0NyAzMC40MTU3NjYgNTUuODc5MzQ0IDMwLjcwNzk2OSA1Ni40NjQ4NDQgMzEuMjkyOTY5IEwgNjAuNzA3MDMxIDM1LjUzNTE1NiBDIDYxLjI3MzAzMSAzNi4xMDIxNTYgNjEuNTg1OTM4IDM2Ljg1NjIwMyA2MS41ODU5MzggMzcuNjU4MjAzIEMgNjEuNTg1OTM4IDM4LjQ1ODIwMyA2MS4yNzMwMzEgMzkuMjEwMzQ0IDYwLjcwNzAzMSAzOS43NzczNDQgTCA1OC41ODU5MzggNDEuODk4NDM4IEwgNTAuMTAxNTYyIDMzLjQxNDA2MiBMIDUyLjIyMjY1NiAzMS4yOTI5NjkgQyA1Mi44MDcxNTYgMzAuNzA4OTY5IDUzLjU3MzU0NyAzMC40MTYyNjYgNTQuMzQxNzk3IDMwLjQxNjAxNiB6IE0gNDguNjg5NDUzIDM0LjgzMDA3OCBMIDU3LjE3MzgyOCA0My4zMTQ0NTMgTCA1NS41MTk1MzEgNDQuOTc0NjA5IEwgNDcuMDMzMjAzIDM2LjQ5MDIzNCBMIDQ4LjY4OTQ1MyAzNC44MzAwNzggeiBNIDE4Ljc0MDIzNCAzNS44MjAzMTIgQyAxOC40MDAyMzQgMzYuNDEwMzEzIDE4LjIyMDcwMyAzNy4wNzkyOTcgMTguMjIwNzAzIDM3Ljc3OTI5NyBDIDE4LjIyMDcwMyAzOC44NDkyOTcgMTguNjQwNjI1IDM5Ljg0OTM3NSAxOS4zOTA2MjUgNDAuNjA5Mzc1IEMgMjAuMTUwNjI1IDQxLjM1OTM3NSAyMS4xNTA3MDMgNDEuNzc5Mjk3IDIyLjIyMDcwMyA0MS43NzkyOTcgQyAyMi45MjA3MDMgNDEuNzc5Mjk3IDIzLjU4OTY4OCA0MS41OTk3NjYgMjQuMTc5Njg4IDQxLjI1OTc2NiBDIDI0LjA0OTY4OCA0MS41Mzk3NjYgMjMuODYwNjI1IDQxLjc4OTUzMSAyMy42NDA2MjUgNDIuMDE5NTMxIEwgMTcuOTgwNDY5IDQ3LjY3OTY4OCBDIDE2LjgxMDQ2OSA0OC44NDk2ODggMTQuOTEwMjM0IDQ4Ljg0OTY4OCAxMy43NDAyMzQgNDcuNjc5Njg4IEwgMTIuMzIwMzEyIDQ2LjI1OTc2NiBDIDExLjc2MDMxMiA0NS42OTk3NjYgMTEuNDM5NDUzIDQ0Ljk0MDYyNSAxMS40Mzk0NTMgNDQuMTQwNjI1IEMgMTEuNDM5NDUzIDQzLjM0MDYyNSAxMS43NjAzMTMgNDIuNTg5NTMxIDEyLjMyMDMxMiA0Mi4wMTk1MzEgTCAxNy45ODA0NjkgMzYuMzU5Mzc1IEMgMTguMjAwNDY5IDM2LjEzOTM3NSAxOC40NjAyMzQgMzUuOTYwMzEyIDE4Ljc0MDIzNCAzNS44MjAzMTIgeiBNIDQ1LjYyMTA5NCAzNy45MDYyNSBMIDU0LjEwNzQyMiA0Ni4zOTA2MjUgTCA0MS40NTUwNzggNTkuMDgyMDMxIEwgNDEuMDAzOTA2IDU0LjcxNjc5NyBDIDQwLjk0OTkwNiA1NC4yMDY3OTcgNDAuNTIyNzY2IDUzLjgyMDMxMyA0MC4wMDk3NjYgNTMuODIwMzEyIEwgMzguMTgxNjQxIDUzLjgyMDMxMiBMIDM4LjE4MTY0MSA1Mi40MDQyOTcgTCA0My41NDQ5MjIgNDcuMDQxMDE2IEMgNDMuOTM1OTIyIDQ2LjY1MDAxNiA0My45MzU5MjIgNDYuMDE3OTUzIDQzLjU0NDkyMiA0NS42MjY5NTMgQyA0My4xNTM5MjIgNDUuMjM1OTUzIDQyLjUyMTg1OSA0NS4yMzU5NTMgNDIuMTMwODU5IDQ1LjYyNjk1MyBMIDM2LjgxMDU0NyA1MC45NDUzMTIgTCAzMy4wMTk1MzEgNTAuNTQ2ODc1IEwgNDUuNjIxMDk0IDM3LjkwNjI1IHogTSAzMS43MjQ2MDkgNTIuNDIxODc1IEwgMzYuMTgxNjQxIDUyLjg5MDYyNSBMIDM2LjE4MTY0MSA1NC44MTgzNTkgQyAzNi4xODE2NDEgNTUuMzcwMzU5IDM2LjYyODY0MSA1NS44MTgzNTkgMzcuMTgxNjQxIDU1LjgxODM1OSBMIDM5LjEwNzQyMiA1NS44MTgzNTkgTCAzOS41NzQyMTkgNjAuMzMwMDc4IEwgMzQuNzIwNzAzIDYwLjg0NTcwMyBMIDMxLjE1ODIwMyA1Ny4yODMyMDMgTCAzMS43MjQ2MDkgNTIuNDIxODc1IHpcIi8+PC9zdmc+YDtcclxuIiwiaW1wb3J0IHsgTWVudSwgUGx1Z2luLCBURmlsZSwgYWRkSWNvbiB9IGZyb20gJ29ic2lkaWFuJztcclxuaW1wb3J0IHsgTGlua0NvbnZlcnRlclNldHRpbmdzVGFiLCBMaW5rQ29udmVydGVyUGx1Z2luU2V0dGluZ3MsIERFRkFVTFRfU0VUVElOR1MgfSBmcm9tICcuL3NldHRpbmdzJztcclxuaW1wb3J0IHsgQ29uZmlybWF0aW9uTW9kYWwsIEZvbGRlclN1Z2dlc3Rpb25Nb2RhbCB9IGZyb20gJ21vZGFscyc7XHJcbmltcG9ydCAqIGFzIENvbnZlcnRlciBmcm9tICdjb252ZXJ0ZXInO1xyXG5pbXBvcnQgKiBhcyBJY29ucyBmcm9tICcuL2ljb25zJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExpbmtDb252ZXJ0ZXJQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG4gICAgc2V0dGluZ3M6IExpbmtDb252ZXJ0ZXJQbHVnaW5TZXR0aW5ncztcclxuXHJcbiAgICBhc3luYyBvbmxvYWQoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0xpbmsgQ29udmVydGVyIExvYWRpbmcuLi4nKTtcclxuXHJcbiAgICAgICAgYWRkSWNvbignYnJhY2tldEljb24nLCBJY29ucy5CUkFDS0VUX0lDT04pO1xyXG4gICAgICAgIGFkZEljb24oJ21hcmtkb3duSWNvbicsIEljb25zLk1BUktET1dOX0lDT04pO1xyXG4gICAgICAgIGFkZEljb24oJ2xpbmtFZGl0SWNvbicsIEljb25zLkxJTktfRURJVF9JQ09OKTtcclxuXHJcbiAgICAgICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuICAgICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IExpbmtDb252ZXJ0ZXJTZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogJ2NvbnZlcnQtd2lraXMtdG8tbWQtaW4tYWN0aXZlLWZpbGUnLFxyXG4gICAgICAgICAgICBuYW1lOiAnQWN0aXZlIEZpbGU6IExpbmtzIHRvIE1hcmtkb3duJyxcclxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIENvbnZlcnRlci5jb252ZXJ0TGlua3NJbkFjdGl2ZUZpbGUodGhpcywgJ21hcmtkb3duJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgICAgICAgIGlkOiAnY29udmVydC1tZC10by13aWtpcy1pbi1hY3RpdmUtZmlsZScsXHJcbiAgICAgICAgICAgIG5hbWU6ICdBY3RpdmUgRmlsZTogTGlua3MgdG8gV2lraScsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBDb252ZXJ0ZXIuY29udmVydExpbmtzSW5BY3RpdmVGaWxlKHRoaXMsICd3aWtpJyk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgICAgICAgIGlkOiAnY29udmVydC13aWtpcy10by1tZC1pbi12YXVsdCcsXHJcbiAgICAgICAgICAgIG5hbWU6ICdWYXVsdDogTGlua3MgdG8gTWFya2Rvd24nLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGluZm9UZXh0ID0gJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBjb252ZXJ0IGFsbCBXaWtpbGlua3MgdG8gTWFya2Rvd24gTGlua3M/JztcclxuICAgICAgICAgICAgICAgIGxldCBtb2RhbCA9IG5ldyBDb25maXJtYXRpb25Nb2RhbCh0aGlzLmFwcCwgaW5mb1RleHQsICgpID0+IENvbnZlcnRlci5jb252ZXJ0TGlua3NJblZhdWx0KHRoaXMsICdtYXJrZG93bicpKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsLm9wZW4oKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcclxuICAgICAgICAgICAgaWQ6ICdjb252ZXJ0LW1kbGlua3MtdG8td2lraS1pbi12YXVsdCcsXHJcbiAgICAgICAgICAgIG5hbWU6ICdWYXVsdDogTGlua3MgdG8gV2lraScsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5mb1RleHQgPSAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNvbnZlcnQgYWxsIE1hcmtkb3duIExpbmtzIHRvIFdpa2lsaW5rcz8nO1xyXG4gICAgICAgICAgICAgICAgbGV0IG1vZGFsID0gbmV3IENvbmZpcm1hdGlvbk1vZGFsKHRoaXMuYXBwLCBpbmZvVGV4dCwgKCkgPT4gQ29udmVydGVyLmNvbnZlcnRMaW5rc0luVmF1bHQodGhpcywgJ3dpa2knKSk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5vcGVuKCk7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgICAgICAgIGlkOiAnY29udmVydC13aWtpcy10by1tZGxpbmstdW5kZXItZm9sZGVyJyxcclxuICAgICAgICAgICAgbmFtZTogJ0NlcnRhaW4gRm9sZGVyOiBMaW5rcyB0byBNYXJrZG93bicsXHJcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZmlsZU1vdmVTdWdnZXN0ZXIgPSBuZXcgRm9sZGVyU3VnZ2VzdGlvbk1vZGFsKHRoaXMsICdtYXJrZG93bicpO1xyXG4gICAgICAgICAgICAgICAgZmlsZU1vdmVTdWdnZXN0ZXIub3BlbigpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogJ2NvbnZlcnQtbWRsaW5rcy10by13aWtpcy11bmRlci1mb2xkZXInLFxyXG4gICAgICAgICAgICBuYW1lOiAnQ2VydGFpbiBGb2xkZXI6IExpbmtzIHRvIFdpa2knLFxyXG4gICAgICAgICAgICBjYWxsYmFjazogKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgbGV0IGZpbGVNb3ZlU3VnZ2VzdGVyID0gbmV3IEZvbGRlclN1Z2dlc3Rpb25Nb2RhbCh0aGlzLCAnd2lraScpO1xyXG4gICAgICAgICAgICAgICAgZmlsZU1vdmVTdWdnZXN0ZXIub3BlbigpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xyXG4gICAgICAgICAgICBpZDogJ2NvbnZlcnQtd2lraXMtdG8tbWRsaW5rcy13aXRoaW4tc2VsZWN0aW9uJyxcclxuICAgICAgICAgICAgbmFtZTogJ0VkaXRvciBTZWxlY3Rpb246IExpbmtzIHRvIE1hcmtkb3duJyxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IENvbnZlcnRlci5jb252ZXJ0TGlua3NXaXRoaW5TZWxlY3Rpb24oJ21hcmtkb3duJywgdGhpcyksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgICAgICAgIGlkOiAnY29udmVydC1tZGxpbmtzLXRvLXdpa2ktd2l0aGluLXNlbGVjdGlvbicsXHJcbiAgICAgICAgICAgIG5hbWU6ICdFZGl0b3IgU2VsZWN0aW9uOiBMaW5rcyB0byBXaWtpJyxcclxuICAgICAgICAgICAgY2FsbGJhY2s6IGFzeW5jICgpID0+IENvbnZlcnRlci5jb252ZXJ0TGlua3NXaXRoaW5TZWxlY3Rpb24oJ3dpa2knLCB0aGlzKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuY29udGV4dE1lbnUpIHRoaXMuYXBwLndvcmtzcGFjZS5vbignZmlsZS1tZW51JywgdGhpcy5hZGRGaWxlTWVudUl0ZW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBvbnVubG9hZCgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnTGluayBDb252ZXJ0ZXIgVW5sb2FkaW5nLi4uJyk7XHJcbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9mZignZmlsZS1tZW51JywgdGhpcy5hZGRGaWxlTWVudUl0ZW1zKTtcclxuICAgIH1cclxuXHJcbiAgICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XHJcbiAgICB9XHJcblxyXG4gICAgYXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkRmlsZU1lbnVJdGVtcyA9IChtZW51OiBNZW51LCBmaWxlOiBURmlsZSkgPT4ge1xyXG4gICAgICAgIGlmICghKGZpbGUgaW5zdGFuY2VvZiBURmlsZSAmJiBmaWxlLmV4dGVuc2lvbiA9PT0gJ21kJykpIHJldHVybjtcclxuXHJcbiAgICAgICAgbWVudS5hZGRTZXBhcmF0b3IoKTtcclxuXHJcbiAgICAgICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIGl0ZW0uc2V0VGl0bGUoJ01hcmtkb3duIExpbmtzIHRvIFdpa2knKVxyXG4gICAgICAgICAgICAgICAgLnNldEljb24oJ2JyYWNrZXRJY29uJylcclxuICAgICAgICAgICAgICAgIC5vbkNsaWNrKCgpID0+IENvbnZlcnRlci5jb252ZXJ0TGlua3NBbmRTYXZlSW5TaW5nbGVGaWxlKGZpbGUsIHRoaXMsICd3aWtpJykpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgaXRlbS5zZXRUaXRsZSgnV2lraUxpbmtzIHRvIE1hcmtkb3duJylcclxuICAgICAgICAgICAgICAgIC5zZXRJY29uKCdtYXJrZG93bkljb24nKVxyXG4gICAgICAgICAgICAgICAgLm9uQ2xpY2soKCkgPT4gQ29udmVydGVyLmNvbnZlcnRMaW5rc0FuZFNhdmVJblNpbmdsZUZpbGUoZmlsZSwgdGhpcywgJ21hcmtkb3duJykpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5maW5hbExpbmtGb3JtYXQgIT09ICdub3QtY2hhbmdlJykge1xyXG4gICAgICAgICAgICBsZXQgZmluYWxGb3JtYXQgPSB0aGlzLnNldHRpbmdzLmZpbmFsTGlua0Zvcm1hdDtcclxuICAgICAgICAgICAgbWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpdGVtLnNldFRpdGxlKGBBbGwgTGlua3MgdG8gJHtmaW5hbEZvcm1hdCA9PT0gJ2Fic29sdXRlLXBhdGgnID8gJ0Fic29sdXRlIFBhdGgnIDogZmluYWxGb3JtYXQgPT09ICdzaG9ydGVzdC1wYXRoJyA/ICdTaG9ydGVzdCBQYXRoJyA6ICdSZWxhdGl2ZSBQYXRoJ31gKVxyXG4gICAgICAgICAgICAgICAgICAgIC5zZXRJY29uKCdsaW5rRWRpdEljb24nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5vbkNsaWNrKCgpID0+IENvbnZlcnRlci5jb252ZXJ0TGlua3NJbkZpbGVUb1ByZWZlcnJlZEZvcm1hdChmaWxlLCB0aGlzLCBmaW5hbEZvcm1hdCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIG1lbnUuYWRkU2VwYXJhdG9yKCk7XHJcbiAgICB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJQbHVnaW5TZXR0aW5nVGFiIiwiU2V0dGluZyIsIlRGb2xkZXIiLCJURmlsZSIsIm5vcm1hbGl6ZVBhdGgiLCJOb3RpY2UiLCJNYXJrZG93blZpZXciLCJNb2RhbCIsIkZ1enp5U3VnZ2VzdE1vZGFsIiwiQ29udmVydGVyLmNvbnZlcnRMaW5rc1VuZGVyRm9sZGVyIiwiUGx1Z2luIiwiQ29udmVydGVyLmNvbnZlcnRMaW5rc0FuZFNhdmVJblNpbmdsZUZpbGUiLCJDb252ZXJ0ZXIuY29udmVydExpbmtzSW5GaWxlVG9QcmVmZXJyZWRGb3JtYXQiLCJhZGRJY29uIiwiSWNvbnMuQlJBQ0tFVF9JQ09OIiwiSWNvbnMuTUFSS0RPV05fSUNPTiIsIkljb25zLkxJTktfRURJVF9JQ09OIiwiQ29udmVydGVyLmNvbnZlcnRMaW5rc0luQWN0aXZlRmlsZSIsIkNvbnZlcnRlci5jb252ZXJ0TGlua3NJblZhdWx0IiwiQ29udmVydGVyLmNvbnZlcnRMaW5rc1dpdGhpblNlbGVjdGlvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW9HQTtBQUNPLFNBQVMsU0FBUyxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUUsQ0FBQyxFQUFFLFNBQVMsRUFBRTtBQUM3RCxJQUFJLFNBQVMsS0FBSyxDQUFDLEtBQUssRUFBRSxFQUFFLE9BQU8sS0FBSyxZQUFZLENBQUMsR0FBRyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsVUFBVSxPQUFPLEVBQUUsRUFBRSxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRTtBQUNoSCxJQUFJLE9BQU8sS0FBSyxDQUFDLEtBQUssQ0FBQyxHQUFHLE9BQU8sQ0FBQyxFQUFFLFVBQVUsT0FBTyxFQUFFLE1BQU0sRUFBRTtBQUMvRCxRQUFRLFNBQVMsU0FBUyxDQUFDLEtBQUssRUFBRSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMs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
